(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{107:function(e,t,a){e.exports={wrapper:"Footer_wrapper__2CTMl",inner:"Footer_inner__b0QTt",copy:"Footer_copy__1tu-K",links:"Footer_links__1QjlD"}},134:function(e,t,a){e.exports={wrapper:"FormRow_wrapper__Wkcya",length:"FormRow_length__KmV2Z"}},135:function(e,t,a){e.exports={field:"ContentField_field__2WlIF",error:"ContentField_error__5uHqP",errorField:"ContentField_errorField__WZM7Z"}},136:function(e,t,a){e.exports={wrapper:"CreateProject_wrapper__2y0rJ",title:"CreateProject_title__WAWnd",form:"CreateProject_form__2KSDW"}},137:function(e,t,a){e.exports={user:"UserWidget_user__3Iel3",cover:"UserWidget_cover__3CxgH",name:"UserWidget_name__GAP4m"}},16:function(e,t,a){e.exports={wrapper:"ProjectMain_wrapper__oTYE1",spinner:"ProjectMain_spinner__30_Hm",info:"ProjectMain_info__3qk0u",title:"ProjectMain_title__32u8G",cover:"ProjectMain_cover__30Q6x",text:"ProjectMain_text__1cEyT",important:"ProjectMain_important__1s3ls",importantTitle:"ProjectMain_importantTitle__2yDBV",importantList:"ProjectMain_importantList__2yD7n",importantPage:"ProjectMain_importantPage__M5f1C",importantPageImage:"ProjectMain_importantPageImage__2Qhyy",content:"ProjectMain_content__2rzTe",edit:"ProjectMain_edit__2S-6R",actions:"ProjectMain_actions__1eT7M",center:"ProjectMain_center__3a26J",centerRight:"ProjectMain_centerRight__1Ufyx",created:"ProjectMain_created__2r6sw",user:"ProjectMain_user__1gtaY",likes:"ProjectMain_likes__20Yjt",liked:"ProjectMain_liked__25ZNh",users:"ProjectMain_users__uNwbL",usersTitle:"ProjectMain_usersTitle__WF6fr",selectedUsers:"ProjectMain_selectedUsers__62duZ",popUpUserList:"ProjectMain_popUpUserList__1K4Vv",popupUser:"ProjectMain_popupUser__tYs-t",popupAdminActions:"ProjectMain_popupAdminActions__sKVPk",menu:"ProjectMain_menu__RzVIH"}},162:function(e,t,a){e.exports={text:"ConfirmWindow_text__2dgsh",actions:"ConfirmWindow_actions__1XYSO"}},164:function(e,t,a){e.exports={content:"App_content__11LHs"}},18:function(e,t,a){e.exports={container:"Header_container__2uQq1",inner:"Header_inner__FazNU",left:"Header_left__cCG_-",right:"Header_right__xmAWc",auth:"Header_auth__2Fn_D",link:"Header_link__2s6C1",authLink:"Header_authLink__X9-i-",authIconCount:"Header_authIconCount__3fWzO",authIcon:"Header_authIcon__1cK0H",user:"Header_user__13xmq",notifications:"Header_notifications__SQP6b",notificationsEmpty:"Header_notificationsEmpty__3M2MC",notificationsList:"Header_notificationsList__D4grE",notification:"Header_notification__1eh0k",unreadNotification:"Header_unreadNotification__240g0",notificationsListTitle:"Header_notificationsListTitle__2WQrk",menuIcon:"Header_menuIcon__2Rgyt",overlay:"Header_overlay__22cZ4",menu:"Header_menu__1k3R4",logo:"Header_logo__1Lp4X",search:"Header_search__37bW3",links:"Header_links__1L87c"}},20:function(e,t,a){e.exports={wrapper:"CommentWidget_wrapper__2IxFm",name:"CommentWidget_name__SJE_1",content:"CommentWidget_content__2sJIF",anonymous:"CommentWidget_anonymous__23lz6",text:"CommentWidget_text__nVlDi",deletedText:"CommentWidget_deletedText__PHtVC",bottom:"CommentWidget_bottom__2GXAp",date:"CommentWidget_date__McPC4",reply:"CommentWidget_reply__3gBLo",actions:"CommentWidget_actions__7yCml",action:"CommentWidget_action__2e7Ph",image:"CommentWidget_image__2g_ul",userImage:"CommentWidget_userImage__2_RpU",answers:"CommentWidget_answers__1Iw5k",answer:"CommentWidget_answer__3qQOo",addAnswer:"CommentWidget_addAnswer__3hZ2n",likes:"CommentWidget_likes__L6hmJ",likeCount:"CommentWidget_likeCount__2btFK",loadAnswer:"CommentWidget_loadAnswer__2RAfW"}},21:function(e,t,a){e.exports={wrapper:"ProjectDetail_wrapper__1Cs2c",inner:"ProjectDetail_inner__3hUQq",left:"ProjectDetail_left__2pDdt",center:"ProjectDetail_center__6XJZM",right:"ProjectDetail_right__2duKn",actions:"ProjectDetail_actions__3mwxI",users:"ProjectDetail_users__2VfFG",usersTitle:"ProjectDetail_usersTitle__1yeHg",selectedUsers:"ProjectDetail_selectedUsers__3wO5_",arrow:"ProjectDetail_arrow__1eSq0",arrowVisible:"ProjectDetail_arrowVisible__2oY2M",popUpUserList:"ProjectDetail_popUpUserList__3dc6G",popupUser:"ProjectDetail_popupUser__3vh0e",popupAdminActions:"ProjectDetail_popupAdminActions__3gbAQ",adminActions:"ProjectDetail_adminActions__3DyrZ"}},216:function(e,t,a){e.exports={wrapper:"ConfirmSuccess_wrapper__2ClS2"}},23:function(e,t,a){e.exports={wrapper:"UserPage_wrapper__1O65H",left:"UserPage_left__1ZW4-",center:"UserPage_center__G6JEK",right:"UserPage_right__2Iybv",cover:"UserPage_cover__2pAcD",name:"UserPage_name__Cm3ZI",info:"UserPage_info___UJw2",actions:"UserPage_actions__g1A60",row:"UserPage_row__RDr8V",rowLabel:"UserPage_rowLabel__1OcY4",values:"UserPage_values__1rr02",value:"UserPage_value__2XKdL",link:"UserPage_link__1abmI",projects:"UserPage_projects__3MjS-"}},232:function(e,t,a){},235:function(e,t,a){e.exports={wrapper:"Agreement_wrapper__10kKT"}},244:function(e,t,a){e.exports=a(490)},252:function(e,t,a){},253:function(e,t,a){},26:function(e,t,a){e.exports={wrapper:"PageEdit_wrapper__1EdL8",top:"PageEdit_top__iLEHW",input:"PageEdit_input__1kESR",name:"PageEdit_name__2cgYF",checkboxes:"PageEdit_checkboxes__1ymDL",checkbox:"PageEdit_checkbox__pU4LF",actions:"PageEdit_actions__2zpY-",actionsRight:"PageEdit_actionsRight__1iNpP",actionsLeft:"PageEdit_actionsLeft__3OW_j",editor:"PageEdit_editor__N-B3v",popup:"PageEdit_popup__til9w",popupTitle:"PageEdit_popupTitle__3lJoA",displayDraft:"PageEdit_displayDraft__2fiVJ",filesList:"PageEdit_filesList__l5PkF",file:"PageEdit_file__-vUar",removeFile:"PageEdit_removeFile__3-j2e",imageDrop:"PageEdit_imageDrop__2RWEq",activeImageDrop:"PageEdit_activeImageDrop__2gNcM",rejectImageDrop:"PageEdit_rejectImageDrop__12rSD"}},28:function(e,t,a){e.exports={wrapper:"AccountForm_wrapper__2X8kB",title:"AccountForm_title__R4F-I",form:"AccountForm_form__1qDVD",cover:"AccountForm_cover__xJ1m9",addLink:"AccountForm_addLink__19S7x",link:"AccountForm_link__2hmHc",imageError:"AccountForm_imageError__1pCRq",actions:"AccountForm_actions__25KP3",listTitle:"AccountForm_listTitle__2qDFO",list:"AccountForm_list__3yoAm",listItem:"AccountForm_listItem__GMhPc",listForm:"AccountForm_listForm__3kYRI",imageDrop:"AccountForm_imageDrop__2Q1wu",activeImageDrop:"AccountForm_activeImageDrop__3qrHI",rejectImageDrop:"AccountForm_rejectImageDrop__1QO1t",image:"AccountForm_image__9TpPu"}},32:function(e,t,a){e.exports={image:"ProjectForm_image__145d3",inputName:"ProjectForm_inputName__2H6y-",input:"ProjectForm_input__1zO9s",description:"ProjectForm_description__25lrE",upload:"ProjectForm_upload__utQse",imageRow:"ProjectForm_imageRow__3YcXy",imageError:"ProjectForm_imageError__3me_n",editor:"ProjectForm_editor__H8lPx",imageDrop:"ProjectForm_imageDrop__3rtv9",activeImageDrop:"ProjectForm_activeImageDrop__2e7wR",rejectImageDrop:"ProjectForm_rejectImageDrop__33kmn",actions:"ProjectForm_actions__19Xm4",actionsRight:"ProjectForm_actionsRight__2EDz3",actionsLeft:"ProjectForm_actionsLeft__2Ky_v",public:"ProjectForm_public__21Are",typesList:"ProjectForm_typesList__2aQo4",typesTitle:"ProjectForm_typesTitle__3Zdkt"}},42:function(e,t,a){e.exports={wrapper:"ProjectWidget_wrapper__F7R93",cover:"ProjectWidget_cover__3XeHL",link:"ProjectWidget_link__3L3h-",name:"ProjectWidget_name__1fp3b",text:"ProjectWidget_text__rwnKj",info:"ProjectWidget_info__49Zko",likes:"ProjectWidget_likes__3HzH3",liked:"ProjectWidget_liked__1ckI_",values:"ProjectWidget_values__3EDbt",value:"ProjectWidget_value__n4tX-",created:"ProjectWidget_created__3OV4G"}},43:function(e,t,a){e.exports={wrapper:"Home_wrapper__2GHZO",spinner:"Home_spinner__3Td27",guest:"Home_guest__21Z8s",guestInner:"Home_guestInner__3oqXQ",guestImage:"Home_guestImage__1ZBSp",guestContent:"Home_guestContent__27mYD",guestName:"Home_guestName__3hn7b",guestDesc:"Home_guestDesc__3ynML",guestAction:"Home_guestAction__3kWlD",content:"Home_content__2DCEc",title:"Home_title__idnpY",navigation:"Home_navigation__YXFwa",active:"Home_active__-GjTT"}},46:function(e,t,a){e.exports={wrapper:"StructureTree_wrapper__G04Cc",row:"StructureTree_row__2zIqn",rowName:"StructureTree_rowName__1kfA6",addIcon:"StructureTree_addIcon__3D7FA",importantIcon:"StructureTree_importantIcon__3Au-b",emptyAdd:"StructureTree_emptyAdd__hMESM",rowLink:"StructureTree_rowLink__GfU35",activeLink:"StructureTree_activeLink__2QmhF",rowContent:"StructureTree_rowContent__kIzWl",rootRow:"StructureTree_rootRow__1Z6wh",rowUnpublished:"StructureTree_rowUnpublished__15z67",rowDeleted:"StructureTree_rowDeleted__LlRzO"}},490:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),u=a(31),o=a.n(u),l=a(12),i=a(236),s=a.n(i),m=a(517),p=a(515),d=a(14),f=a(516),b=(a(252),a(253),a(1)),E=a.n(b),v=a(4),O=a(6),_=a(29),C=a(56),j=a(15),g=a(2),h=a(79),D=a(212),y=a(213),w={user:null,userInfo:null,loginShowed:!1,registerShowed:!1,forgetPasswordShowed:!1,openCommentForm:void 0,events:null};!function(e){e.LOAD_USER_ACTION="LOAD_USER",e.LOAD_USER_INFO_ACTION="LOAD_USER_INFO",e.LOGIN_VISIBILITY_ACTION="LOGIN_VISIBILITY_CHANGED",e.REGISTER_VISIBILITY_ACTION="REGISTER_VISIBILITY_CHANGED",e.FORGET_PASSWORD_VISIBILITY_ACTION="FORGET_PASSWORD_VISIBILITY",e.LOGOUT_ACTION="LOGOUT",e.COMMENT_FORM_OPEN_ACTION="COMMENT_FORM_OPEN_ACTION",e.EVENTS_LOADED_ACTION="EVENTS_LOADED_ACTION",e.EVENT_READ_ACTION="EVENT_READ_ACTION"}(n||(n={}));var A,N={projects:[],project:null,projectUsers:null,page:null,comments:null,myProjects:void 0};!function(e){e.LOAD_PROJECTS_ACTION="LOAD_PROJECTS",e.LOAD_PROJECT_ACTION="LOAD_PROJECT",e.LOAD_PROJECT_USERS_ACTION="LOAD_PROJECT_USERS",e.LOAD_PAGE_ACTION="LOAD_PAGE",e.LOAD_COMMENTS_ACTION="LOAD_COMMENTS",e.LOAD_MY_PROJECTS_ACTION="LOAD_MY_PROJECTS"}(A||(A={}));var k=Object(h.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.LOAD_USER_ACTION:return Object(g.a)(Object(g.a)({},e),{},{user:t.payload});case n.LOGIN_VISIBILITY_ACTION:return Object(g.a)(Object(g.a)({},e),{},{loginShowed:t.payload});case n.REGISTER_VISIBILITY_ACTION:return Object(g.a)(Object(g.a)({},e),{},{registerShowed:t.payload});case n.FORGET_PASSWORD_VISIBILITY_ACTION:return Object(g.a)(Object(g.a)({},e),{},{forgetPasswordShowed:t.payload});case n.LOAD_USER_INFO_ACTION:return Object(g.a)(Object(g.a)({},e),{},{userInfo:t.payload});case n.COMMENT_FORM_OPEN_ACTION:return Object(g.a)(Object(g.a)({},e),{},{openCommentForm:t.payload});case n.EVENTS_LOADED_ACTION:return Object(g.a)(Object(g.a)({},e),{},{events:t.payload});case n.EVENT_READ_ACTION:var a=e.events||[],r=a.findIndex((function(e){return e._id.$oid===t.payload._id.$oid}));return-1===r?e:(a[r]=Object(g.a)(Object(g.a)({},t.payload),{},{read:!0}),Object(g.a)(Object(g.a)({},e),{},{events:Object(j.a)(a)}));case n.LOGOUT_ACTION:return Object(g.a)(Object(g.a)({},w),{},{events:null});default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.LOAD_PROJECTS_ACTION:return Object(g.a)(Object(g.a)({},e),{},{projects:t.payload});case A.LOAD_PROJECT_ACTION:return Object(g.a)(Object(g.a)({},e),{},{project:t.payload});case A.LOAD_COMMENTS_ACTION:return Object(g.a)(Object(g.a)({},e),{},{comments:t.payload});case A.LOAD_PAGE_ACTION:return Object(g.a)(Object(g.a)({},e),{},{page:t.payload});case A.LOAD_MY_PROJECTS_ACTION:return Object(g.a)(Object(g.a)({},e),{},{myProjects:t.payload});case A.LOAD_PROJECT_USERS_ACTION:return Object(g.a)(Object(g.a)({},e),{},{projectUsers:t.payload});case n.LOGOUT_ACTION:return Object(g.a)({},N);default:return e}}}),x=[D.a];Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_ENVIRONMENT;var F=Object(h.createStore)(k,Object(y.composeWithDevTools)(h.applyMiddleware.apply(void 0,x))),I=a(89),T=a.n(I),S=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_ENDPOINT||"https://4000-fedoseevsm-cloudfiles-qsf1orvolxy.ws-eu102.gitpod.io",P=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STATIC_BASE||"https://4000-fedoseevsm-cloudfiles-qsf1orvolxy.ws-eu102.gitpod.io";"".concat(P,"/images");function L(e,t,a,n){var r,c=T.a.CancelToken.source(),u=n?Object(g.a)({},n):{};return u.headers=Object(g.a)(Object(g.a)({},u.headers),{},{Authorization:"Bearer ".concat(R),"X-Auth-Token":""}),"post"==t||"put"===t||"patch"===t?(console.log("withMethod: ",{data:a}),r=T.a[t]("".concat(S,"/").concat(e),{data:a},Object(g.a)(Object(g.a)({},u),{},{withCredentials:!1,cancelToken:c.token}))):(console.log("notMethod",{data:a}),r=T.a[t]("".concat(S,"/").concat(e),Object(g.a)(Object(g.a)({},u),{},{withCredentials:!1,cancelToken:c.token}))),r.cancel=function(e){return c.cancel(e||"Cancel by user")},r}var R="",B=null,M=null;function H(e){R=e}function V(){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(M),M=null,B=new Promise((function(){})),e.prev=3,e.next=6,L("account/refresh-token","post",{withCredentials:!1});case 6:t=e.sent,a=t.data,R=a.jwtToken,W(),Promise.resolve(B),B=null,e.next=20;break;case 14:e.prev=14,e.t0=e.catch(3),B=null,R="",console.error("Fail refresh token"),Promise.resolve(B);case 20:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function W(){var e=JSON.parse(atob(R.split(".")[1])),t=new Date(1e3*e.exp).getTime()-Date.now()-6e4;M=setTimeout(V,t)}function J(e,t,a,n){return Z.apply(this,arguments)}function Z(){return(Z=Object(v.a)(E.a.mark((function e(t,a,r,c){var u,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B){e.next=3;break}return e.next=3,B;case 3:return(u=c?Object(g.a)({},c):{}).headers=Object(g.a)(Object(g.a)({},u.headers),{},{Authorization:"Bearer ".concat(R)}),e.prev=5,e.next=8,L(t,a,r,u);case 8:if(o=e.sent,![401,403].includes(o.status)){e.next=12;break}return F.dispatch({type:n.LOGOUT_ACTION,payload:null}),e.abrupt("return",Promise.reject(o));case 12:return e.abrupt("return",Promise.resolve(o));case 15:return e.prev=15,e.t0=e.catch(5),e.abrupt("return",Promise.reject(e.t0.response));case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}window.onfocus=V;var Y=a(133),G=a(57),q=a.n(G);function z(){return K.apply(this,arguments)}function K(){return(K=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J("account","get"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){return X.apply(this,arguments)}function X(){return(X=Object(v.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("api/user/login","post",{email:t.toLowerCase(),password:a}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t,a,n){return ee.apply(this,arguments)}function ee(){return(ee=Object(v.a)(E.a.mark((function e(t,a,n,r){var c,u=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=u.length>4&&void 0!==u[4]?u[4]:"ru-ru",e.abrupt("return",L("api/user","post",{first_name:t,last_name:a,email:n.toLowerCase(),password:r,language_code:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(v.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("account/resend-confirm-email","post",{email:t.toLowerCase(),password:a}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return re.apply(this,arguments)}function re(){return(re=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J("account/revoke-token","post",{}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("account/forgot-password","post",{email:t.toLowerCase()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return le.apply(this,arguments)}function le(){return(le=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("account/validate-reset-token","post",{token:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t){return se.apply(this,arguments)}function se(){return(se=Object(v.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("account/reset-password","post",{token:a,password:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(v.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("account/fb?code=".concat(t,"&redirect_uri=").concat(a),"get"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(v.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("account/vk?code=".concat(t,"&redirect_uri=").concat(a),"get"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(v.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("account/google?code=".concat(t,"&redirect_uri=").concat(a),"get"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J("users/".concat(t),"get"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?"users/".concat(t,"/info"):"account/info",e.abrupt("return",J(a,"get"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){var t=e.userId,a=e.name,n=e.login,r=e.city,c=e.education,u=e.tags,o=e.skills,l=e.links,i=e.cover,s=e.coverFile,m=t?"user/{userId}/info":"account/info",p=new FormData;s&&p.append("coverFile",s),!s&&i&&p.append("cover",i),p.append("name",a),p.append("login",n),p.append("city",r),p.append("education",c);var d,f=Object(Y.a)(u);try{for(f.s();!(d=f.n()).done;){var b=d.value;p.append("tags[]",b)}}catch(g){f.e(g)}finally{f.f()}var E,v=Object(Y.a)(l);try{for(v.s();!(E=v.n()).done;){var O=E.value;p.append("links[]",O)}}catch(g){v.e(g)}finally{v.f()}var _,C=Object(Y.a)(o);try{for(C.s();!(_=C.n()).done;){var j=_.value;p.append("skills[]",j)}}catch(g){C.e(g)}finally{C.f()}return J(m,"put",p,{headers:{"Content-Type":"multipart/form-data"}})}function ge(){return he.apply(this,arguments)}function he(){return(he=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J("events","get"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J("events/".concat(t),"put"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(v.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n={}).user=t.toString(),a&&(n.page=a),e.abrupt("return",L("projects?".concat(q.a.stringify(n)),"get"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="comments/?user=".concat(t),e.abrupt("return",J(a,"get"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xe,Fe=a(124),Ie=a(125);!function(e){e.Admin="Admin",e.User="User"}(xe||(xe={}));var Te=function(){function e(t,a,n,r,c,u){Object(Fe.a)(this,e),this.id=t,this.name=a,this.jwtToken=n,this.role=r,this.login=c,this.cover=u}return Object(Ie.a)(e,[{key:"isAdmin",get:function(){return this.role===xe.Admin}}],[{key:"FromResponse",value:function(t){return new e(t.id,t.name,t.jwtToken,t.role,t.login,t.cover)}}]),e}();function Se(){var e=Object(l.c)((function(e){return e.user}));return{user:e.user,loginShowed:e.loginShowed,registerShowed:e.registerShowed,forgetPasswordShowed:e.forgetPasswordShowed,events:e.events}}var Pe,Le=a(11),Re=a(5),Be=a.n(Re),Me=a(214),He=a.n(Me),Ve=a(518);function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function We(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Je,Ze=function(e){var t=e.svgRef,a=e.title,n=We(e,["svgRef","title"]);return c.a.createElement("svg",Ue({width:266,height:48,viewBox:"0 0 266 48",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,Pe||(Pe=c.a.createElement("path",{d:"M0.85 38V3.1H17.35C18.9833 3.1 20.45 3.38333 21.75 3.95C23.05 4.48333 24.15 5.23333 25.05 6.2C25.9833 7.16666 26.7 8.35 27.2 9.75C27.7 11.1167 27.95 12.6167 27.95 14.25C27.95 15.9167 27.7 17.4333 27.2 18.8C26.7 20.1667 25.9833 21.3333 25.05 22.3C24.15 23.2667 23.05 24.0333 21.75 24.6C20.45 25.1333 18.9833 25.4 17.35 25.4H8.45V38H0.85ZM8.45 18.8H16.45C17.5833 18.8 18.4667 18.5167 19.1 17.95C19.7667 17.35 20.1 16.4833 20.1 15.35V13.15C20.1 12.0167 19.7667 11.1667 19.1 10.6C18.4667 10 17.5833 9.7 16.45 9.7H8.45V18.8ZM32.7742 38V11.75H40.1742V17.45H40.4242C40.5576 16.7167 40.7909 16.0167 41.1242 15.35C41.4576 14.65 41.8909 14.0333 42.4242 13.5C42.9909 12.9667 43.6576 12.55 44.4242 12.25C45.1909 11.9167 46.0909 11.75 47.1242 11.75H48.4242V18.65H46.5742C44.4076 18.65 42.7909 18.9333 41.7242 19.5C40.6909 20.0667 40.1742 21.1167 40.1742 22.65V38H32.7742ZM63.3949 38.6C61.4616 38.6 59.7283 38.2833 58.1949 37.65C56.6949 37.0167 55.4116 36.1 54.3449 34.9C53.3116 33.7 52.5116 32.25 51.9449 30.55C51.3783 28.85 51.0949 26.95 51.0949 24.85C51.0949 22.75 51.3783 20.85 51.9449 19.15C52.5116 17.45 53.3116 16.0167 54.3449 14.85C55.4116 13.65 56.6949 12.7333 58.1949 12.1C59.7283 11.4667 61.4616 11.15 63.3949 11.15C65.3283 11.15 67.0449 11.4667 68.5449 12.1C70.0783 12.7333 71.3616 13.65 72.3949 14.85C73.4616 16.0167 74.2783 17.45 74.8449 19.15C75.4116 20.85 75.6949 22.75 75.6949 24.85C75.6949 26.95 75.4116 28.85 74.8449 30.55C74.2783 32.25 73.4616 33.7 72.3949 34.9C71.3616 36.1 70.0783 37.0167 68.5449 37.65C67.0449 38.2833 65.3283 38.6 63.3949 38.6ZM63.3949 32.75C64.8616 32.75 65.9949 32.3 66.7949 31.4C67.5949 30.5 67.9949 29.2167 67.9949 27.55V22.2C67.9949 20.5333 67.5949 19.25 66.7949 18.35C65.9949 17.45 64.8616 17 63.3949 17C61.9283 17 60.7949 17.45 59.9949 18.35C59.1949 19.25 58.7949 20.5333 58.7949 22.2V27.55C58.7949 29.2167 59.1949 30.5 59.9949 31.4C60.7949 32.3 61.9283 32.75 63.3949 32.75ZM80.9676 11.75H88.3676V40.8C88.3676 43.1333 87.7842 44.9167 86.6176 46.15C85.4509 47.3833 83.5676 48 80.9676 48H77.0676V42.25H80.9676V11.75ZM84.6676 8.95C83.1676 8.95 82.0676 8.61667 81.3676 7.95C80.7009 7.25 80.3676 6.36666 80.3676 5.3V4.2C80.3676 3.13333 80.7009 2.26667 81.3676 1.6C82.0676 0.899999 83.1676 0.549999 84.6676 0.549999C86.1676 0.549999 87.2509 0.899999 87.9176 1.6C88.6176 2.26667 88.9676 3.13333 88.9676 4.2V5.3C88.9676 6.36666 88.6176 7.25 87.9176 7.95C87.2509 8.61667 86.1676 8.95 84.6676 8.95ZM106.224 38.6C104.224 38.6 102.441 38.2833 100.874 37.65C99.3076 36.9833 97.9742 36.0667 96.8742 34.9C95.8076 33.7 94.9909 32.25 94.4242 30.55C93.8909 28.85 93.6242 26.95 93.6242 24.85C93.6242 22.7833 93.8909 20.9167 94.4242 19.25C94.9576 17.55 95.7409 16.1 96.7742 14.9C97.8409 13.7 99.1409 12.7833 100.674 12.15C102.208 11.4833 103.958 11.15 105.924 11.15C108.091 11.15 109.941 11.5167 111.474 12.25C113.041 12.9833 114.308 13.9667 115.274 15.2C116.274 16.4333 116.991 17.8667 117.424 19.5C117.891 21.1 118.124 22.7833 118.124 24.55V26.75H101.274V27.15C101.274 28.8833 101.741 30.2667 102.674 31.3C103.608 32.3 105.074 32.8 107.074 32.8C108.608 32.8 109.858 32.5 110.824 31.9C111.791 31.2667 112.691 30.5167 113.524 29.65L117.224 34.25C116.058 35.6167 114.524 36.6833 112.624 37.45C110.758 38.2167 108.624 38.6 106.224 38.6ZM106.074 16.6C104.574 16.6 103.391 17.1 102.524 18.1C101.691 19.0667 101.274 20.3667 101.274 22V22.4H110.474V21.95C110.474 20.35 110.108 19.0667 109.374 18.1C108.674 17.1 107.574 16.6 106.074 16.6ZM133.95 38.6C131.984 38.6 130.234 38.2833 128.7 37.65C127.167 36.9833 125.884 36.0667 124.85 34.9C123.817 33.7 123.034 32.25 122.5 30.55C121.967 28.85 121.7 26.95 121.7 24.85C121.7 22.75 121.967 20.8667 122.5 19.2C123.034 17.5 123.817 16.05 124.85 14.85C125.884 13.65 127.167 12.7333 128.7 12.1C130.234 11.4667 131.984 11.15 133.95 11.15C136.617 11.15 138.834 11.75 140.6 12.95C142.4 14.15 143.684 15.8333 144.45 18L138.45 20.6C138.217 19.6 137.734 18.75 137 18.05C136.267 17.35 135.25 17 133.95 17C132.45 17 131.317 17.5 130.55 18.5C129.784 19.4667 129.4 20.7833 129.4 22.45V27.35C129.4 29.0167 129.784 30.3333 130.55 31.3C131.317 32.2667 132.45 32.75 133.95 32.75C135.284 32.75 136.334 32.4 137.1 31.7C137.9 30.9667 138.484 30.0167 138.85 28.85L144.6 31.35C143.734 33.85 142.384 35.6833 140.55 36.85C138.75 38.0167 136.55 38.6 133.95 38.6ZM158.38 38C155.814 38 153.864 37.35 152.53 36.05C151.23 34.75 150.58 32.85 150.58 30.35V17.5H146.88V11.75H148.73C149.73 11.75 150.414 11.5167 150.78 11.05C151.147 10.55 151.33 9.85 151.33 8.95V4.65H157.98V11.75H163.18V17.5H157.98V32.25H162.78V38H158.38ZM191.688 38.6C187.121 38.6 183.738 37.0167 181.538 33.85C179.338 30.6833 178.238 26.25 178.238 20.55C178.238 14.85 179.338 10.4167 181.538 7.25C183.738 4.08333 187.121 2.5 191.688 2.5C196.254 2.5 199.638 4.08333 201.838 7.25C204.038 10.4167 205.138 14.85 205.138 20.55C205.138 26.25 204.038 30.6833 201.838 33.85C199.638 37.0167 196.254 38.6 191.688 38.6ZM191.688 32.25C193.688 32.25 195.071 31.5167 195.838 30.05C196.604 28.5833 196.988 26.5167 196.988 23.85V17.25C196.988 14.5833 196.604 12.5167 195.838 11.05C195.071 9.58333 193.688 8.85 191.688 8.85C189.688 8.85 188.304 9.58333 187.538 11.05C186.771 12.5167 186.388 14.5833 186.388 17.25V23.85C186.388 26.5167 186.771 28.5833 187.538 30.05C188.304 31.5167 189.688 32.25 191.688 32.25ZM234.218 38H209.518V31.15L220.268 21.95C221.235 21.1167 222.051 20.3667 222.718 19.7C223.385 19 223.918 18.3333 224.318 17.7C224.751 17.0333 225.051 16.3833 225.218 15.75C225.418 15.1167 225.518 14.4333 225.518 13.7V13C225.518 12.3333 225.385 11.75 225.118 11.25C224.851 10.75 224.501 10.3333 224.068 10C223.635 9.66666 223.135 9.41666 222.568 9.25C222.035 9.08333 221.485 9 220.918 9C220.085 9 219.351 9.13333 218.718 9.4C218.118 9.66667 217.585 10.0333 217.118 10.5C216.685 10.9333 216.318 11.45 216.018 12.05C215.718 12.6167 215.485 13.2333 215.318 13.9L208.768 11.4C209.168 10.2 209.718 9.06667 210.418 8C211.118 6.9 211.985 5.95 213.018 5.15C214.085 4.31667 215.335 3.66666 216.768 3.2C218.201 2.73333 219.818 2.5 221.618 2.5C223.518 2.5 225.201 2.76667 226.668 3.3C228.135 3.83333 229.368 4.56666 230.368 5.5C231.401 6.43333 232.185 7.55 232.718 8.85C233.251 10.1167 233.518 11.5 233.518 13C233.518 14.5 233.268 15.8667 232.768 17.1C232.268 18.3333 231.585 19.5 230.718 20.6C229.885 21.6667 228.901 22.6833 227.768 23.65C226.635 24.6167 225.451 25.6 224.218 26.6L217.718 31.7H234.218V38ZM241.348 38V31.95H250.748V8.55H250.298L243.198 17.85L238.398 14.1L246.748 3.1H258.248V31.95H265.648V38H241.348Z",fill:"white"})))},Ye=c.a.forwardRef((function(e,t){return c.a.createElement(Ze,Ue({svgRef:t},e))}));a.p;function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function qe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ze,Ke=function(e){var t=e.svgRef,a=e.title,n=qe(e,["svgRef","title"]);return c.a.createElement("svg",Ge({width:27,height:30,viewBox:"0 0 27 30",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,Je||(Je=c.a.createElement("path",{d:"M13.6243 30C14.6188 30 15.5726 29.6049 16.2758 28.9017C16.979 28.1985 17.3741 27.2447 17.3741 26.2502H9.87449C9.87449 27.2447 10.2696 28.1985 10.9728 28.9017C11.676 29.6049 12.6298 30 13.6243 30ZM15.4898 2.06215C15.516 1.80146 15.4872 1.53817 15.4054 1.28927C15.3235 1.04037 15.1904 0.811389 15.0147 0.617091C14.8389 0.422792 14.6243 0.267491 14.3849 0.161203C14.1454 0.0549148 13.8863 0 13.6243 0C13.3623 0 13.1032 0.0549148 12.8637 0.161203C12.6242 0.267491 12.4097 0.422792 12.2339 0.617091C12.0581 0.811389 11.925 1.04037 11.8432 1.28927C11.7614 1.53817 11.7326 1.80146 11.7588 2.06215C9.6396 2.49319 7.73452 3.64337 6.36611 5.31791C4.99771 6.99246 4.25007 9.08847 4.24979 11.251C4.24979 13.3097 3.31235 22.5004 0.5 24.3753H26.7486C23.9362 22.5004 22.9988 13.3097 22.9988 11.251C22.9988 6.71377 19.7739 2.92648 15.4898 2.06215Z",fill:"white"})))},Qe=c.a.forwardRef((function(e,t){return c.a.createElement(Ke,Ge({svgRef:t},e))}));a.p;function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $e(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var et,tt,at=function(e){var t=e.svgRef,a=e.title,n=$e(e,["svgRef","title"]);return c.a.createElement("svg",Xe({width:38,height:30,viewBox:"0 0 38 30",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,ze||(ze=c.a.createElement("path",{d:"M0 27.8125C0 28.3927 0.230468 28.9491 0.640704 29.3593C1.05094 29.7695 1.60734 30 2.1875 30H35.3125C35.8927 30 36.4491 29.7695 36.8593 29.3593C37.2695 28.9491 37.5 28.3927 37.5 27.8125V11.25H0V27.8125ZM37.5 4.6875C37.5 4.10734 37.2695 3.55094 36.8593 3.1407C36.4491 2.73047 35.8927 2.5 35.3125 2.5H15.3781L11.6281 0H2.1875C1.60734 0 1.05094 0.230468 0.640704 0.640704C0.230468 1.05094 0 1.60734 0 2.1875V8.75H37.5V4.6875Z",fill:"white"})))},nt=c.a.forwardRef((function(e,t){return c.a.createElement(at,Xe({svgRef:t},e))}));a.p;function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ct(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ut,ot=function(e){var t=e.svgRef,a=e.title,n=ct(e,["svgRef","title"]);return c.a.createElement("svg",rt({width:18,height:18,viewBox:"0 0 18 18",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,et||(et=c.a.createElement("path",{d:"M7.82996 14.6599C11.602 14.6599 14.6599 11.602 14.6599 7.82996C14.6599 4.05788 11.602 1 7.82996 1C4.05788 1 1 4.05788 1 7.82996C1 11.602 4.05788 14.6599 7.82996 14.6599Z",stroke:"black",strokeWidth:1.06244,strokeLinecap:"round",strokeLinejoin:"round"})),tt||(tt=c.a.createElement("path",{d:"M12.9528 12.9526L16.9369 16.9368",stroke:"black",strokeWidth:1.06244,strokeLinecap:"round",strokeLinejoin:"round"})))},lt=c.a.forwardRef((function(e,t){return c.a.createElement(ot,rt({svgRef:t},e))})),it=(a.p,a(18)),st=a.n(it);function mt(){var e=Object(l.b)(),t=Se(),a=t.user,u=t.events,o=Object(r.useState)(!1),i=Object(O.a)(o,2),s=i[0],m=i[1],p=Object(r.useState)(!1),f=Object(O.a)(p,2),b=f[0],C=f[1],g=Object(_.f)(),h=Object(r.useRef)(null),D=Object(r.useState)(""),y=Object(O.a)(D,2),w=y[0],A=y[1],N=Object(_.g)();Object(r.useEffect)((function(){document.addEventListener("click",(function(e){h.current&&h.current.contains(e.target)||C(!1)}))}),[]),Object(r.useEffect)((function(){m(!1)}),[N]);var k=Object(r.useCallback)((function(){e({type:n.LOGIN_VISIBILITY_ACTION,payload:!0})}),[]);return Object(r.useEffect)((function(){C(!1)}),[a]),Object(r.useEffect)((function(){s?document.body.classList.add(st.a.withMenu):document.body.classList.remove(st.a.withMenu)}),[s]),c.a.createElement("div",{className:st.a.container,"area-label":"Project 021"},c.a.createElement("div",{className:Be()("content",st.a.inner)},c.a.createElement("div",{className:st.a.left},c.a.createElement(He.a,{className:st.a.menuIcon,onClick:function(){return m(!s)}}),c.a.createElement(d.b,{to:"/"},c.a.createElement(Ye,{className:st.a.logo})),c.a.createElement("div",{className:st.a.links},c.a.createElement(d.b,{to:"/create-project",className:Be()(st.a.link,st.a.authLink)},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),c.a.createElement("span",null)),c.a.createElement("div",{className:st.a.right},c.a.createElement("form",{className:st.a.search,onSubmit:function(e){e.preventDefault(),g.push("/search?q=".concat(w)),A("")}},c.a.createElement("input",{value:w,onChange:function(e){return A(e.target.value.substring(0,100))},placeholder:"\u043f\u043e\u0438\u0441\u043a..."}),c.a.createElement("button",{type:"submit",disabled:0===w.trim().length},c.a.createElement(lt,null))),a?c.a.createElement("div",{className:st.a.auth},c.a.createElement("div",{className:st.a.authIcon,ref:h,onClick:function(){return C(!b)}},c.a.createElement(Ve.a,{classes:{tooltip:"tooltip"},title:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"},c.a.createElement(Qe,null)),u&&u.filter((function(e){return!e.read})).length>0&&c.a.createElement("div",{className:st.a.authIconCount}),b&&u&&c.a.createElement("div",{className:st.a.notifications,onClick:function(e){return e.stopPropagation()}},c.a.createElement("div",{className:st.a.notificationsListTitle},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),0===u.length&&c.a.createElement("div",{className:st.a.notificationsEmpty},"\u041d\u0435\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),u.length>0&&c.a.createElement("div",{className:st.a.notificationsList},Object(j.a)(u).reverse().map((function(t){var a="";return console.log(t),"comment"===t.type&&(a="/project/".concat(t.meta.projectId.$numberInt).concat(t.meta.pageId?"/".concat(t.meta.pageId.$numberInt):"","#comment").concat(t.meta.comment.id.$numberInt)),"newRequest"===t.type&&(a="/project/".concat(t.meta.projectId.$numberInt)),"newFollower"===t.type&&(a="/project/".concat(t.meta.projectId.$numberInt)),"likeComment"===t.type&&(a="/project/".concat(t.meta.projectId.$numberInt).concat(t.meta.pageId?"/".concat(t.meta.pageId.$numberInt):"","#comment").concat(t.meta.comment.id.$numberInt)),"likeProject"===t.type&&(a="/project/".concat(t.meta.projectId.$numberInt)),"editPage"===t.type&&(a="/project/".concat(t.meta.projectId.$numberInt,"/").concat(t.meta.pageId.$numberInt,"/edit")),c.a.createElement("div",{key:t._id.$oid,className:Be()(st.a.notification,Object(Le.a)({},st.a.unreadNotification,!t.read)),onClick:function(){C(!1),g.push(a)},onMouseEnter:Object(v.a)(E.a.mark((function a(){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.read){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,De(t._id.$oid);case 5:e({type:n.EVENT_READ_ACTION,payload:t}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[2,8]])})))},"comment"===t.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,t.meta.user.name)," \u043e\u0441\u0442\u0430\u0432\u0438\u043b \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",t.meta.projectName?c.a.createElement(c.a.Fragment,null," \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 ",c.a.createElement("b",null,t.meta.projectName)):""),"newRequest"===t.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,t.meta.user.name)," \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b \u0437\u0430\u044f\u0432\u043a\u0443",t.meta.projectName?c.a.createElement(c.a.Fragment,null," \u0432 \u043f\u0440\u043e\u0435\u043a\u0442 ",c.a.createElement("b",null,t.meta.projectName)):""),"newFollower"===t.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,t.meta.user.name)," \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043b\u0441\u044f",t.meta.projectName?c.a.createElement(c.a.Fragment,null," \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 ",c.a.createElement("b",null,t.meta.projectName)):""),"likeComment"===t.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,t.meta.user.name)," \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0432\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),"likeProject"===t.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,t.meta.user.name)," \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0432\u0430\u0448",t.meta.projectName?c.a.createElement(c.a.Fragment,null," \u043f\u0440\u043e\u0435\u043a\u0442 ",c.a.createElement("b",null,t.meta.projectName)):""),"editPage"===t.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,t.meta.user.name)," \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 ",t.meta.projectName?c.a.createElement(c.a.Fragment,null," \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 ",c.a.createElement("b",null,t.meta.projectName)):""))}))))),c.a.createElement("div",{className:st.a.authIcon},c.a.createElement(d.b,{to:"/my-projects"},c.a.createElement(Ve.a,{classes:{tooltip:"tooltip"},title:"\u041c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"},c.a.createElement(nt,null)))),c.a.createElement(d.b,{to:"/account",className:st.a.user,style:{backgroundImage:a.cover&&"url(".concat(a.cover.startsWith("images/")?"".concat(P,"/").concat(a.cover):a.cover,")")}})):c.a.createElement("span",{className:st.a.link,onClick:k},"\u0412\u043e\u0439\u0442\u0438"))),s&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:st.a.overlay,onClick:function(){return m(!1)}}),c.a.createElement("div",{className:Be()(st.a.menu,Object(Le.a)({},st.a.hidden,!s))},c.a.createElement(d.b,{to:"/"},c.a.createElement(Ye,{className:st.a.logo})),c.a.createElement("form",{className:st.a.search,onSubmit:function(e){e.preventDefault(),g.push("/search?q=".concat(w)),A("")}},c.a.createElement("input",{value:w,onChange:function(e){return A(e.target.value.substring(0,100))},placeholder:"\u043f\u043e\u0438\u0441\u043a..."}),c.a.createElement("button",{type:"submit",disabled:0===w.trim().length},c.a.createElement(lt,null))),c.a.createElement("ul",null,c.a.createElement("li",{className:st.a.menuRow},c.a.createElement(d.b,{to:"/create-project",className:Be()(st.a.link,st.a.authLink)},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),c.a.createElement("li",{className:st.a.menuRow},c.a.createElement(d.b,{to:"/my-projects",className:Be()(st.a.link,st.a.authLink)},"M\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"))))))}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function dt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ft,bt=function(e){var t=e.svgRef,a=e.title,n=dt(e,["svgRef","title"]);return c.a.createElement("svg",pt({width:30,height:30,viewBox:"0 0 30 30",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,ut||(ut=c.a.createElement("path",{d:"M27 0H3C2.20435 0 1.44129 0.31607 0.87868 0.87868C0.31607 1.44129 0 2.20435 0 3V30L6 24H27C27.7956 24 28.5587 23.6839 29.1213 23.1213C29.6839 22.5587 30 21.7956 30 21V3C30 2.20435 29.6839 1.44129 29.1213 0.87868C28.5587 0.31607 27.7956 0 27 0ZM9 18H6V15H9V18ZM9 13.5H6V10.5H9V13.5ZM9 9H6V6H9V9ZM19.5 18H12V15H19.5V18ZM24 13.5H12V10.5H24V13.5ZM24 9H12V6H24V9Z",fill:"white"})))},Et=c.a.forwardRef((function(e,t){return c.a.createElement(bt,pt({svgRef:t},e))}));a.p;function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ot(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var _t,Ct=function(e){var t=e.svgRef,a=e.title,n=Ot(e,["svgRef","title"]);return c.a.createElement("svg",vt({width:34,height:30,viewBox:"0 0 34 30",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,ft||(ft=c.a.createElement("path",{d:"M4.4315 21.0087H6.48892V4.45602C6.4897 1.98943 8.46829 0 10.9214 0H28.8872C28.966 0 29.0456 0 29.1245 0.0396332C31.5776 0.31862 33.3189 2.50699 33.0816 4.97358C32.8444 7.04228 31.2221 8.71386 29.1245 8.95244C29.0456 8.95244 28.966 8.99207 28.8872 8.99207H28.6499V25.544V25.5836C28.6105 28.0106 26.6319 30 24.2182 30H4.74916H4.63013H4.43227C1.97913 30 0.000537872 28.0106 0.000537872 25.544C-0.0396538 22.9981 1.97835 21.0087 4.4315 21.0087ZM28.6499 6.56512V6.52549C29.7969 6.52549 30.7073 5.61004 30.7073 4.45602C30.7073 3.30199 29.7969 2.38732 28.6499 2.38732H14.8392C15.5116 3.70065 15.5116 5.25179 14.8392 6.56512H28.6499ZM9.65544 22.8388H25.8799V20.4515H9.65544V22.8388ZM9.65544 18.0642H25.8799V15.6769H9.65544V18.0642ZM9.65544 13.2896H25.8799V10.9022H9.65544V13.2896ZM4.39208 27.5334C5.53982 27.5334 6.44951 26.618 6.44951 25.4647V23.396H4.39208C3.24434 23.396 2.33465 24.3115 2.33465 25.4647C2.33465 26.6187 3.24434 27.5334 4.39208 27.5334Z",fill:"white"})))},jt=c.a.forwardRef((function(e,t){return c.a.createElement(Ct,vt({svgRef:t},e))}));a.p;function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ht(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Dt=function(e){var t=e.svgRef,a=e.title,n=ht(e,["svgRef","title"]);return c.a.createElement("svg",gt({width:30,height:30,viewBox:"0 0 30 30",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,_t||(_t=c.a.createElement("path",{d:"M16.5 10.5H13.5V7.5H16.5V10.5ZM16.5 22.5H13.5V13.5H16.5V22.5ZM15 0C13.0302 0 11.0796 0.387987 9.25975 1.14181C7.43986 1.89563 5.78628 3.00052 4.3934 4.3934C1.58035 7.20644 0 11.0218 0 15C0 18.9782 1.58035 22.7936 4.3934 25.6066C5.78628 26.9995 7.43986 28.1044 9.25975 28.8582C11.0796 29.612 13.0302 30 15 30C18.9782 30 22.7936 28.4196 25.6066 25.6066C28.4196 22.7936 30 18.9782 30 15C30 13.0302 29.612 11.0796 28.8582 9.25975C28.1044 7.43986 26.9995 5.78628 25.6066 4.3934C24.2137 3.00052 22.5601 1.89563 20.7403 1.14181C18.9204 0.387987 16.9698 0 15 0Z",fill:"white"})))},yt=c.a.forwardRef((function(e,t){return c.a.createElement(Dt,gt({svgRef:t},e))})),wt=(a.p,a(107)),At=a.n(wt);function Nt(){return c.a.createElement("div",{className:At.a.wrapper},c.a.createElement("div",{className:Be()("content",At.a.inner)},c.a.createElement("div",{className:At.a.copy},"Project021.org (c) 2020"),c.a.createElement("div",{className:At.a.links},c.a.createElement("a",{href:"https://project021.org",target:"_blank"},c.a.createElement(Ve.a,{classes:{tooltip:"tooltip"},title:"\u041e \u043d\u0430\u0441",placement:"top"},c.a.createElement(yt,null))),c.a.createElement(d.b,{to:"/agreement"},c.a.createElement(Ve.a,{classes:{tooltip:"tooltip"},title:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430",placement:"top"},c.a.createElement(jt,null))),c.a.createElement("a",{href:"https://t.me/Community021",target:"_blank"},c.a.createElement(Ve.a,{classes:{tooltip:"tooltip"},title:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043d\u0430\u043c",placement:"top"},c.a.createElement(Et,null))))))}var kt,xt=a(87),Ft=a.n(xt);function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Tt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var St,Pt,Lt=function(e){var t=e.svgRef,a=e.title,n=Tt(e,["svgRef","title"]);return c.a.createElement("svg",It({width:10,height:10,viewBox:"0 0 10 10",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,kt||(kt=c.a.createElement("path",{d:"M9 3H6.194L6.7555 1.3165C6.8565 1.0125 6.8055 0.6755 6.618 0.4155C6.4305 0.1555 6.1265 0 5.806 0H5C4.8515 0 4.711 0.0659999 4.6155 0.18L2.2655 3H1C0.4485 3 0 3.4485 0 4V8.5C0 9.0515 0.4485 9.5 1 9.5H7.6535C7.85694 9.49932 8.05539 9.43692 8.22261 9.32104C8.38982 9.20516 8.51793 9.04125 8.59 8.851L9.9685 5.1755C9.98943 5.11936 10.0001 5.05991 10 5V4C10 3.4485 9.5515 3 9 3ZM1 4H2V8.5H1V4ZM9 4.9095L7.6535 8.5H3V3.681L5.234 1H5.807L5.026 3.3415C5.00065 3.41666 4.99357 3.49678 5.00537 3.57521C5.01717 3.65365 5.04749 3.72814 5.09383 3.79252C5.14017 3.8569 5.20119 3.9093 5.27182 3.94538C5.34246 3.98146 5.42068 4.00019 5.5 4H9V4.9095Z",fill:"currentColor"})))},Rt=c.a.forwardRef((function(e,t){return c.a.createElement(Lt,It({svgRef:t},e))}));a.p;function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Mt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ht=function(e){var t=e.svgRef,a=e.title,n=Mt(e,["svgRef","title"]);return c.a.createElement("svg",Bt({width:13,height:13,viewBox:"0 0 13 13",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,St||(St=c.a.createElement("path",{d:"M3.96969 3.61715H9.95008V4.81323H3.96969V3.61715ZM3.96969 6.00931H8.15596V7.20538H3.96969V6.00931Z",fill:"black"})),Pt||(Pt=c.a.createElement("path",{d:"M11.7442 0.626953H2.17557C1.51593 0.626953 0.979492 1.16339 0.979492 1.82303V12.5877L4.16884 10.1956H11.7442C12.4038 10.1956 12.9403 9.65914 12.9403 8.9995V1.82303C12.9403 1.16339 12.4038 0.626953 11.7442 0.626953ZM11.7442 8.9995H3.77054L2.17557 10.1956V1.82303H11.7442V8.9995Z",fill:"black"})))},Vt=c.a.forwardRef((function(e,t){return c.a.createElement(Ht,Bt({svgRef:t},e))})),Ut=(a.p,a(42)),Wt=a.n(Ut);function Jt(e){var t=e.project,a=e.className,n=e.onLike;return c.a.createElement("div",{className:Be()(Wt.a.wrapper,Object(Le.a)({},a,!!a))},c.a.createElement(d.b,{className:Wt.a.link,to:"/project/".concat(t.id)},c.a.createElement("div",{className:Wt.a.cover,style:{backgroundImage:"url(".concat(P,"/").concat(t.cover.startsWith("images/")?t.cover:"images/".concat(t.cover),")")}}),c.a.createElement("div",{title:Wt.a.name,className:Wt.a.name},t.name,t.draft?" (unpublished)":""),c.a.createElement("div",{className:Wt.a.text},t.description.substring(0,300),t.description.length>300&&"..."),c.a.createElement("div",{className:Wt.a.info},c.a.createElement("div",{className:Wt.a.values},c.a.createElement("div",{className:Be()(Wt.a.value,Wt.a.likes,Object(Le.a)({},Wt.a.liked,t.liked)),onClick:function(e){e.preventDefault(),e.stopPropagation(),n(t)}},c.a.createElement(Rt,null),c.a.createElement("span",null,t.likesCount)),c.a.createElement("div",{className:Wt.a.value},c.a.createElement(Vt,null),c.a.createElement("span",null,t.commentsCount))),c.a.createElement("div",{className:Wt.a.created},Ft.a.utc(t.created).local().format("DD.MM.YYYY")))))}var Zt=a(91),Yt=a.n(Zt);function Gt(e){var t=e.projects,a=e.className,n=e.childClassName,r=e.hasMore,u=e.onMoreLoad,o=e.disabled,l=e.onLike;e.moreLoading;return c.a.createElement("div",{className:Yt.a.wrapper},t.length?c.a.createElement("div",{className:Be()(Yt.a.projects,Object(Le.a)({},a,!!a))},t.map((function(e){return c.a.createElement(Jt,{className:Be()(Yt.a.project,Object(Le.a)({},n,!!n)),key:e.id,project:e,onLike:l})}))):c.a.createElement("div",{className:Yt.a.empty}),r&&c.a.createElement("div",{className:Yt.a.more},c.a.createElement("button",{className:Be()("button","button-primary"),disabled:o,onClick:u},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451")))}function qt(e,t){var a={};return a.type=e,t&&(a.page=t),L("projects?".concat(q.a.stringify(a)),"get")}function zt(e,t){var a={};return a.q=e,t&&(a.page=t),L("projects?".concat(q.a.stringify(a)),"get")}function Kt(e,t,a){var n={};return n.type=e,n.list=t,a&&(n.page=a),L("account/projects?".concat(q.a.stringify(n)),"get")}function Qt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("projects/".concat(t),"get"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){return ea.apply(this,arguments)}function ea(){return(ea=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J("projects/".concat(t),"delete"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t,a,n,r,c,u){var o=new FormData;return o.append("cover",r),o.append("name",e),o.append("description",t),o.append("content",a),o.append("data",JSON.stringify(n)),o.append("draft",c.toString()),o.append("type",u.toString()),J("api/project/new","post",{name:e,description:t})}function aa(e){return J("projects/".concat(e,"/like"),"post")}function na(e){return L("projects/".concat(e,"/pages"),"get")}function ra(e,t){return J("projects/".concat(e,"/pages").concat(t?"?parent=".concat(t):""),"post")}function ca(e,t){return ua.apply(this,arguments)}function ua(){return(ua=Object(v.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("projects/".concat(t,"/pages/").concat(a),"get"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e,t,a){return la.apply(this,arguments)}function la(){return(la=Object(v.a)(E.a.mark((function e(t,a,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new FormData,n&&n.forEach((function(e){r.append("newFiles",e)})),t.files&&t.files.forEach((function(e){r.append("files",e.id.toString())})),r.append("name",t.name),r.append("data",JSON.stringify(a)),r.append("content",t.content),r.append("important",t.important.toString()),r.append("draft",t.draft.toString()),e.abrupt("return",J("projects/".concat(t.projectId,"/pages/").concat(t.id),"put",r,{headers:{"Content-Type":"multipart/form-data"}}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e,t){return sa.apply(this,arguments)}function sa(){return(sa=Object(v.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J("projects/".concat(t,"/pages/").concat(a),"delete"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t){return J("projects/".concat(e,"/follow?value=").concat(+t),"post")}function pa(e,t){return(new FormData).set("following",t.toString()),J("projects/".concat(e,"/request?value=").concat(+t),"post")}function da(e){return J("projects/".concat(e,"/leave"),"post")}function fa(e){return J("projects/".concat(e,"/followers"),"get")}function ba(e){return J("projects/".concat(e,"/requests"),"get")}function Ea(e,t){return J("projects/".concat(e,"/requests/").concat(t),"post")}function va(e,t){return J("projects/".concat(e,"/requests/").concat(t),"delete")}function Oa(e,t){return J("projects/".concat(e,"/users/").concat(t),"delete")}function _a(e,t){return J("projects/".concat(e,"/followers/").concat(t),"delete")}function Ca(e,t){return ja.apply(this,arguments)}function ja(){return(ja=Object(v.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J("projects/".concat(t,"/pages/").concat(a,"/drafts/to"),"post"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ga(e,t){return ha.apply(this,arguments)}function ha(){return(ha=Object(v.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J("projects/".concat(t,"/pages/").concat(a,"/drafts/from"),"post"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Da=a(43),ya=a.n(Da);function wa(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),a=t[0],u=t[1],o=Object(r.useState)(!1),i=Object(O.a)(o,2),s=i[0],m=i[1],p=Object(l.b)(),d=Se().user,f=Object(r.useState)(0),b=Object(O.a)(f,2),_=b[0],C=b[1],h=Object(r.useState)(-1),D=Object(O.a)(h,2),y=D[0],w=D[1],N=Object(l.c)((function(e){return e.project})).projects;return Object(r.useEffect)((function(){var e=null;return function(){var t=Object(v.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!1),t.prev=1,e=qt(y),t.next=5,e;case 5:a=t.sent,n=a.data,p({type:A.LOAD_PROJECTS_ACTION,payload:n}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0),p({type:A.LOAD_PROJECTS_ACTION,payload:[]});case 14:e=null,u(!0);case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}()(),function(){e&&e.cancel(),p({type:A.LOAD_PROJECTS_ACTION,payload:[]})}}),[d,y]),c.a.createElement("div",null,!d&&c.a.createElement("div",{className:ya.a.guest},c.a.createElement("div",{className:Be()("content",ya.a.guestInner)},c.a.createElement("div",{className:ya.a.guestImage},c.a.createElement("img",{src:"".concat("","/home.png"),alt:""})),c.a.createElement("div",{className:ya.a.guestContent},c.a.createElement("div",{className:ya.a.guestName},"\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043d\u0430\u0443\u0447\u043d\u044b\u0445 \u0438\u0434\u0435\u0439"),c.a.createElement("div",{className:ya.a.guestDesc},"\u0412\u0441\u0451 \u0441\u0430\u043c\u043e\u0435 \u0432\u0430\u0436\u043d\u043e\u0435 \u0432 \u043e\u0434\u043d\u043e\u043c \u043c\u0435\u0441\u0442\u0435: \u043f\u0440\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0438\u0434\u0435\u0439, \u043f\u043e\u0438\u0441\u043a \u0435\u0434\u0438\u043d\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u0438\u043a\u043e\u0432, \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f, \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432.")),c.a.createElement("div",{className:ya.a.guestAction},c.a.createElement("button",{onClick:function(){return p({type:n.LOGIN_VISIBILITY_ACTION,payload:!0})}},"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f")))),c.a.createElement("div",{className:Be()("content",ya.a.content)},c.a.createElement("div",{className:ya.a.navigation},c.a.createElement("span",{className:Be()(Object(Le.a)({},ya.a.active,-1===y)),onClick:function(){return w(-1)}},"\u0412\u0441\u0435"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},ya.a.active,1===y)),onClick:function(){return w(1)}},"\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u044b"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},ya.a.active,0===y)),onClick:function(){return w(0)}},"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},ya.a.active,2===y)),onClick:function(){return w(2)}},"\u041e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f")),a?c.a.createElement(Gt,{projects:N,hasMore:N.length>=8*(_+1),disabled:s,onMoreLoad:Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,qt(y,_+1);case 4:t=e.sent,a=t.data,C(_+1),p({type:A.LOAD_PROJECTS_ACTION,payload:[].concat(Object(j.a)(N),Object(j.a)(a))}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:m(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),onLike:function(){var e=Object(v.a)(E.a.mark((function e(t){var a,r,c,u,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=3;break}return p({type:n.LOGIN_VISIBILITY_ACTION,payload:!0}),e.abrupt("return");case 3:return e.prev=3,e.next=6,aa(t.id);case 6:a=e.sent,r=a.data,c=r.count,u=r.liked,o=N.indexOf(t),N[o]=Object(g.a)(Object(g.a)({},t),{},{likesCount:c,liked:u}),p({type:A.LOAD_PROJECTS_ACTION,payload:Object(j.a)(N)}),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(3);case 17:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}()}):c.a.createElement("div",{className:"spinner overlay-spinner"})))}var Aa,Na=a(65),ka=a.n(Na);function xa(){return(xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Fa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ia=function(e){var t=e.svgRef,a=e.title,n=Fa(e,["svgRef","title"]);return c.a.createElement("svg",xa({width:25,height:25,viewBox:"0 0 25 25",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,Aa||(Aa=c.a.createElement("path",{d:"M17.9097 17.9099L7.30314 7.3033M17.9097 7.3033L7.30314 17.9099L17.9097 7.3033Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},Ta=c.a.forwardRef((function(e,t){return c.a.createElement(Ia,xa({svgRef:t},e))})),Sa=(a.p,a(92)),Pa=a.n(Sa);function La(e){var t=e.title,a=e.children,n=e.onClose,r=e.width,u=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Pa.a.overlay}),c.a.createElement("div",{className:Be()(Pa.a.wrapper,Object(Le.a)({},u,!!u)),style:{maxWidth:r}},t&&c.a.createElement("div",{className:Pa.a.title},t),c.a.createElement("div",{className:Pa.a.content},a),n&&c.a.createElement(Ta,{onClick:n,className:Pa.a.close})))}var Ra,Ba,Ma=a(134),Ha=a.n(Ma);function Va(e){var t=e.children,a=e.maxLength,n=e.length,r=e.className;return c.a.createElement("div",{className:Be()(Ha.a.wrapper,Object(Le.a)({},r,!!r))},t,a&&c.a.createElement("div",{className:Be()(Ha.a.length,Object(Le.a)({},Ha.a.error,n>a))},n||0," / ",a))}function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Wa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ja,Za,Ya=function(e){var t=e.svgRef,a=e.title,n=Wa(e,["svgRef","title"]);return c.a.createElement("svg",Ua({width:40,height:40,viewBox:"0 0 40 40",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,Ra||(Ra=c.a.createElement("path",{d:"M40 20C40 8.95312 31.0469 0 20 0C8.95312 0 0 8.95312 0 20C0 29.9844 7.3125 38.2578 16.875 39.7578V25.7812H11.7969V20H16.875V15.5938C16.875 10.582 19.8594 7.8125 24.4297 7.8125C26.6172 7.8125 28.9062 8.20312 28.9062 8.20312V13.125H26.3828C23.8984 13.125 23.125 14.668 23.125 16.25V20H28.6719L27.7852 25.7812H23.125V39.7578C32.6875 38.2578 40 29.9844 40 20Z",fill:"black"})),Ba||(Ba=c.a.createElement("path",{d:"M27.7852 25.7812L28.6719 20H23.125V16.25C23.125 14.668 23.8984 13.125 26.3828 13.125H28.9062V8.20312C28.9062 8.20312 26.6172 7.8125 24.4297 7.8125C19.8594 7.8125 16.875 10.582 16.875 15.5938V20H11.7969V25.7812H16.875V39.7578C17.8945 39.918 18.9375 40 20 40C21.0625 40 22.1055 39.918 23.125 39.7578V25.7812H27.7852Z",fill:"white"})))},Ga=c.a.forwardRef((function(e,t){return c.a.createElement(Ya,Ua({svgRef:t},e))}));a.p;function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function za(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ka,Qa,Xa=function(e){var t=e.svgRef,a=e.title,n=za(e,["svgRef","title"]);return c.a.createElement("svg",qa({width:40,height:40,viewBox:"0 0 40 40",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,Ja||(Ja=c.a.createElement("rect",{width:40,height:40,rx:2,fill:"black"})),Za||(Za=c.a.createElement("path",{d:"M20 21.7V18.4H28.4C28.5 19 28.6 19.5 28.6 20.2C28.6 25.3 25.2 29 20 29C15 29 11 25 11 20C11 15 15 11 20 11C22.4 11 24.5 11.9 26 13.3L23.4 15.8C22.8 15.2 21.6 14.5 19.9 14.5C16.9 14.5 14.5 17 14.5 20C14.5 23 16.9 25.5 19.9 25.5C23.3 25.5 24.6 23.1 24.8 21.7H20Z",fill:"white"})))},$a=c.a.forwardRef((function(e,t){return c.a.createElement(Xa,qa({svgRef:t},e))}));a.p;function en(){return(en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function tn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var an=function(e){var t=e.svgRef,a=e.title,n=tn(e,["svgRef","title"]);return c.a.createElement("svg",en({width:40,height:40,viewBox:"0 0 40 40",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,Ka||(Ka=c.a.createElement("path",{d:"M0 19.1667C0 10.1667 0 5.58333 2.83333 2.83333C5.66667 0.0833334 10.1667 0 19.1667 0H20.8333C29.8333 0 34.4167 0 37.1667 2.83333C40 5.58333 40 10.1667 40 19.1667V20.8333C40 29.8333 40 34.4167 37.1667 37.1667C34.4167 40 29.8333 40 20.8333 40H19.1667C10.1667 40 5.58333 40 2.83333 37.1667C0 34.4167 0 29.8333 0 20.8333V19.1667Z",fill:"black"})),Qa||(Qa=c.a.createElement("path",{d:"M10.8332 12.5H7.9165C7.08317 12.5 6.9165 12.9167 6.9165 13.3333C6.9165 14.0833 7.9165 17.9167 11.4998 23C13.9165 26.5 17.3332 28.3333 20.4165 28.3333C22.2498 28.3333 22.4998 27.9167 22.4998 27.1667V24.5833C22.4998 23.75 22.6665 23.5833 23.2498 23.5833C23.6665 23.5833 24.4165 23.8333 26.1665 25.5C28.1665 27.5 28.4998 28.3333 29.5832 28.3333H32.4998C33.3332 28.3333 33.7498 27.9167 33.4998 27.0833C33.2498 26.25 32.3332 25.0833 30.9998 23.6667C30.3332 22.8333 29.3332 22 28.9998 21.5833C28.5832 21 28.6665 20.75 28.9998 20.25C28.9998 20.25 32.5832 15.25 32.9165 13.5833C33.0832 13 32.9165 12.5 31.9998 12.5H29.1665C28.4165 12.5 28.0832 12.9167 27.9165 13.3333C27.9165 13.3333 26.4165 16.9167 24.3332 19.3333C23.6665 20 23.3332 20.25 22.9998 20.25C22.8332 20.25 22.5832 20 22.5832 19.4167V13.6667C22.5832 12.9167 22.3332 12.5833 21.7498 12.5833H17.1665C16.6665 12.5833 16.4165 12.9167 16.4165 13.25C16.4165 13.9167 17.4998 14.0833 17.5832 16.0833V20.4167C17.5832 21.3333 17.4165 21.5 17.0832 21.5C16.0832 21.5 13.6665 17.8333 12.2498 13.75C11.8332 12.8333 11.5832 12.5 10.8332 12.5Z",fill:"white"})))},nn=c.a.forwardRef((function(e,t){return c.a.createElement(an,en({svgRef:t},e))})),rn=(a.p,[]);window.setFbCode=function(e){rn.forEach((function(t){return t(e)}))};var cn=[];window.setVkCode=function(e){cn.forEach((function(t){return t(e)}))};var un=[];window.setGoogleCode=function(e){un.forEach((function(t){return t(e)}))};var on=a(72),ln=a.n(on);function sn(){var e=Object(r.useState)(""),t=Object(O.a)(e,2),a=t[0],n=t[1],u=Object(r.useState)(""),o=Object(O.a)(u,2),l=o[0],i=o[1],s=Object(r.useState)(""),m=Object(O.a)(s,2),p=m[0],d=m[1];Object(r.useEffect)((function(){var e=function(e){n(e)},t=function(e){i(e)},a=function(e){d(e)};return rn.push(e),cn.push(t),un.push(a),function(){rn.splice(rn.indexOf(e),1),cn.splice(cn.indexOf(t),1),un.splice(un.indexOf(a),1)}}),[]),Object(r.useEffect)((function(){(function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return e.prev=1,e.next=4,me(a,window.location.origin+"/fb/");case 4:window.location.reload(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(r.useEffect)((function(){(function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=9;break}return e.prev=1,e.next=4,de(l,window.location.origin+"/vk/");case 4:window.location.reload(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}})()()}),[l]),Object(r.useEffect)((function(){(function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=9;break}return e.prev=1,e.next=4,be(p,window.location.origin+"/google/");case 4:window.location.reload(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}})()()}),[p]);return c.a.createElement("div",{className:ln.a.wrapper},c.a.createElement("span",{onClick:function(){var e=window.screen.width/2-400,t=window.screen.height/2-300;window.open("".concat("https://www.facebook.com/v8.0/dialog/oauth","?client_id=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FACEBOOK_APP_ID,"&redirect_uri=").concat(window.location.origin,"/fb/&scope=email"),"Facebook","width=800,height=600,top=".concat(t,",left=").concat(e))},className:ln.a.link},c.a.createElement(Ga,{className:ln.a.icon})),c.a.createElement("span",{className:ln.a.link,onClick:function(){var e=window.screen.width/2-400,t=window.screen.height/2-300;window.open("".concat("https://accounts.google.com/o/oauth2/v2/auth","?client_id=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GOOGLE_APP_ID,"&response_type=code&redirect_uri=").concat(window.location.origin,"/google/&scope=openid%20profile%20email"),"Google","width=800,height=600,top=".concat(t,",left=").concat(e))}},c.a.createElement($a,{className:ln.a.icon})),c.a.createElement("span",{className:ln.a.link,onClick:function(){var e=window.screen.width/2-400,t=window.screen.height/2-300;window.open("".concat("https://oauth.vk.com/authorize","?client_id=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_VK_APP_ID,"&display=popup&response_type=code&state=reg&redirect_uri=").concat(window.location.origin,"/vk/&scope=email"),"Vkontakte","width=800,height=600,top=".concat(t,",left=").concat(e))}},c.a.createElement(nn,{className:ln.a.icon})))}var mn=a(73),pn=a.n(mn);function dn(e){var t,a,n=e.size,r=e.fullWidth,u=e.onChange,o=e.label,l=e.name,i=e.className,s=e.type,m=e.value,p=e.invalid,d=e.invalidText;return c.a.createElement("div",{className:Be()(pn.a.wrapper,(t={},Object(Le.a)(t,pn.a.fullWidth,r),Object(Le.a)(t,pn.a.invalid,p),t))},o&&c.a.createElement("div",{className:pn.a.label},o),c.a.createElement("input",{className:Be()(pn.a.input,(a={},Object(Le.a)(a,pn.a.big,"bg"===n),Object(Le.a)(a,i,!!i),a)),type:s,onChange:u,value:m,id:l,name:l}),p&&d&&c.a.createElement("div",{className:pn.a.invalidText},d))}var fn=a(52),bn=a.n(fn);function En(e){var t=e.onSave,a=e.onClose,u=Object(r.useState)(""),o=Object(O.a)(u,2),i=o[0],s=o[1],m=Object(r.useState)(""),p=Object(O.a)(m,2),d=p[0],f=p[1],b=Object(r.useState)({}),_=Object(O.a)(b,2),C=_[0],j=_[1],g=Object(r.useState)(""),h=Object(O.a)(g,2),D=h[0],y=h[1],w=Object(r.useState)(!1),A=Object(O.a)(w,2),N=A[0],k=A[1],x=Object(l.b)(),F=Object(r.useState)(!1),I=Object(O.a)(F,2),T=I[0];I[1];return c.a.createElement(La,{onClose:a,title:"\u0412\u0445\u043e\u0434"},c.a.createElement("div",{className:bn.a.form},T?c.a.createElement("div",{className:bn.a.success},c.a.createElement("div",{className:bn.a.message},"Email \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a."),c.a.createElement("div",{className:bn.a.buttons},c.a.createElement("button",{className:Be()("button","button-secondary"),onClick:a},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),c.a.createElement("button",{className:Be()("button","button-primary"),onClick:Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=2;break}return e.abrupt("return");case 2:return k(!0),e.next=5,te(i,d);case 5:k(!1);case 6:case"end":return e.stop()}}),e)})))},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"))):c.a.createElement("div",null,c.a.createElement(Va,null,c.a.createElement(dn,{fullWidth:!0,name:"email",type:"email",value:i,invalid:!!C.email,invalidText:C.email,label:"Email",onChange:function(e){s(e.target.value.trim())}})),c.a.createElement(Va,null,c.a.createElement(dn,{fullWidth:!0,name:"password",type:"password",value:d,invalid:!!C.password,invalidText:C.password,label:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){f(e.target.value.trim())}})),D&&c.a.createElement("div",{className:bn.a.error},D),c.a.createElement("div",{className:bn.a.bottom},c.a.createElement(sn,null),c.a.createElement("div",{className:bn.a.links},c.a.createElement("div",{className:bn.a.link},c.a.createElement("span",{onClick:function(){x({type:n.LOGIN_VISIBILITY_ACTION,payload:!1}),x({type:n.REGISTER_VISIBILITY_ACTION,payload:!0})}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")),c.a.createElement("div",{className:bn.a.link},c.a.createElement("span",{onClick:function(){x({type:n.LOGIN_VISIBILITY_ACTION,payload:!1}),x({type:n.FORGET_PASSWORD_VISIBILITY_ACTION,payload:!0})}},"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?")))),c.a.createElement("div",{className:bn.a.buttons},c.a.createElement("button",{className:Be()("button","button-secondary"),onClick:a},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),c.a.createElement("button",{className:Be()("button","button-primary"),onClick:Object(v.a)(E.a.mark((function e(){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(""),a={},ka.a.isEmail(i)||(a.email="\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),0===d.trim().length&&(a.password="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),j(a),0!==Object.keys(a).length){e.next=19;break}return k(!0),e.prev=7,e.next=10,Q(i,d);case 10:n=e.sent,console.log(n.status),202===n.status&&(H(n.headers["x-auth-token"]),console.log("response: ",n),console.log("token: ",n.headers["x-auth-token"]),t(n.data)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0);case 18:k(!1);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})))},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))))}var vn=a(53),On=a.n(vn);function _n(e){var t=e.onClose,a=Object(r.useState)(""),u=Object(O.a)(a,2),o=u[0],i=u[1],s=Object(r.useState)(""),m=Object(O.a)(s,2),p=m[0],d=m[1],f=Object(r.useState)(""),b=Object(O.a)(f,2),_=b[0],C=b[1],j=Object(r.useState)(""),g=Object(O.a)(j,2),h=g[0],D=g[1],y=Object(r.useState)(""),w=Object(O.a)(y,2),A=w[0],N=w[1],k=Object(r.useState)(!1),x=Object(O.a)(k,2),F=x[0],I=x[1],T=Object(r.useState)({}),S=Object(O.a)(T,2),P=S[0],L=S[1],R=Object(r.useState)(""),B=Object(O.a)(R,2),M=B[0],V=B[1],U=Object(l.b)();return c.a.createElement(La,{onClose:t,title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},c.a.createElement("div",{className:On.a.form},A?c.a.createElement("div",{className:On.a.success},c.a.createElement("div",{className:On.a.message},"\u041f\u0438\u0441\u044c\u043c\u043e \u0441 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a."),c.a.createElement("div",{className:On.a.buttons},c.a.createElement("button",{className:Be()("button","button-secondary"),onClick:t},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),c.a.createElement("button",{className:Be()("button","button-primary"),onClick:Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=2;break}return e.abrupt("return");case 2:return I(!0),e.next=5,te(_,h);case 5:I(!1);case 6:case"end":return e.stop()}}),e)})))},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"))):c.a.createElement("div",null,c.a.createElement(Va,{maxLength:20,length:o.trim().length},c.a.createElement(dn,{fullWidth:!0,name:"first_name",value:o,invalid:!!P.first_name,invalidText:P.first_name,label:"\u0418\u043c\u044f",onChange:function(e){i(e.target.value.trim())}})),c.a.createElement(Va,{maxLength:20,length:p.trim().length},c.a.createElement(dn,{fullWidth:!0,name:"last_name",value:p,invalid:!!P.last_name,invalidText:P.last_name,label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",onChange:function(e){d(e.target.value.trim())}})),c.a.createElement(Va,null,c.a.createElement(dn,{fullWidth:!0,name:"email",type:"email",value:_,invalid:!!P.email,invalidText:P.email,label:"Email",onChange:function(e){C(e.target.value.trim())}})),c.a.createElement(Va,{maxLength:20,length:h.trim().length},c.a.createElement(dn,{fullWidth:!0,name:"password",type:"password",value:h,invalid:!!P.password,invalidText:P.password,label:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){D(e.target.value.trim())}}),c.a.createElement("div",{className:On.a.passwordHelp},"\u0411\u0435\u0437 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432, 8-20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")),M&&c.a.createElement("div",{className:On.a.error},M),c.a.createElement("div",{className:On.a.bottom},c.a.createElement(sn,null),c.a.createElement("div",{className:On.a.links},c.a.createElement("div",{className:On.a.link},c.a.createElement("span",{onClick:function(){U({type:n.LOGIN_VISIBILITY_ACTION,payload:!0}),U({type:n.REGISTER_VISIBILITY_ACTION,payload:!1})}},"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?")))),c.a.createElement("div",{className:On.a.buttons},c.a.createElement("button",{className:Be()("button","button-secondary"),onClick:t},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),c.a.createElement("button",{className:Be()("button","button-primary"),onClick:Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V(""),t={},ka.a.isEmail(_)||(t.email="\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 Email"),o.trim().length<3&&(t.first_name="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),p.trim().length<3&&(t.last_name="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),(h.trim().length<8||h.trim().length>20)&&(t.password="\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),L(t),0!==Object.keys(t).length){e.next=21;break}return I(!0),e.prev=9,e.next=12,$(o,p,_,h);case 12:a=e.sent,console.log(a.status),202===a.status&&(H(a.headers["x-auth-token"]),console.log("response: ",a),console.log("token: ",a.headers["x-auth-token"]),N(_)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:I(!1);case 21:case"end":return e.stop()}}),e,null,[[9,17]])})))},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))))}var Cn=a(93),jn=a.n(Cn);function gn(e){var t=e.onClose,a=Object(r.useState)(""),n=Object(O.a)(a,2),u=n[0],o=n[1],l=Object(r.useState)({}),i=Object(O.a)(l,2),s=i[0],m=i[1],p=Object(r.useState)(""),d=Object(O.a)(p,2),f=d[0],b=d[1],_=Object(r.useState)(!1),C=Object(O.a)(_,2),j=(C[0],C[1]),g=Object(r.useState)(!1),h=Object(O.a)(g,2),D=h[0],y=h[1];return c.a.createElement(La,{onClose:t,title:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"},c.a.createElement("div",{className:jn.a.form},D?c.a.createElement("div",{className:jn.a.success},c.a.createElement("div",{className:jn.a.message},"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044e \u043f\u0430\u0440\u043e\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a.")):c.a.createElement("div",null,c.a.createElement(Va,null,c.a.createElement(dn,{fullWidth:!0,name:"email",type:"email",value:u,invalid:!!s.email,invalidText:s.email,label:"Email",onChange:function(e){o(e.target.value.trim())}})),f&&c.a.createElement("div",{className:jn.a.error},f),c.a.createElement("div",{className:jn.a.buttons},c.a.createElement("button",{className:Be()("button","button-secondary"),onClick:t},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),c.a.createElement("button",{className:Be()("button","button-primary"),onClick:Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(""),t={},ka.a.isEmail(u)||(t.email="\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),m(t),0!==Object.keys(t).length){e.next=16;break}return j(!0),e.prev=6,e.next=9,ce(u);case 9:y(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),b(e.t0.response.data.message);case 15:j(!1);case 16:case"end":return e.stop()}}),e,null,[[6,12]])})))},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))))}var hn=a(216),Dn=a.n(hn);function yn(){var e=Se().user,t=Object(l.b)(),a=Object(_.f)();return Object(r.useEffect)((function(){e&&a.replace("/")}),[e]),e?null:c.a.createElement("div",{className:Dn.a.wrapper},"Verification successful, you can now ",c.a.createElement("span",{onClick:function(){return t({type:n.LOGIN_VISIBILITY_ACTION,payload:!0})}},"sign in"))}var wn=a(217),An=a.n(wn),Nn=a(80),kn=a.n(Nn),xn=a(520),Fn=a(20),In=a.n(Fn),Tn=a(229),Sn=a.n(Tn),Pn=a(218),Ln=a(221),Rn=a.n(Ln),Bn=a(222),Mn=a.n(Bn),Hn=a(223),Vn=a.n(Hn),Un=a(224),Wn=a.n(Un),Jn=a(225),Zn=a.n(Jn),Yn=a(226),Gn=a.n(Yn),qn=a(227),zn=a.n(qn),Kn=a(228),Qn=a.n(Kn),Xn=a(135),$n=a.n(Xn);function er(e){var t,a=e.error,n=(e.allowedTags,e.actions,e.onChange),u=e.value,o=(e.placeholder,e.className),l=(e.outerRef,Object(r.useRef)(null)),i=Object(r.useState)(u),s=Object(O.a)(i,2),m=s[0],p=(s[1],Object(r.useState)("")),d=Object(O.a)(p,2),f=d[0],b=d[1],_=Object(r.useMemo)((function(){return{embed:Rn.a,table:Mn.a,marker:Zn.a,list:Vn.a,code:Wn.a,image:{class:Gn.a,config:{types:"image/png, image/jpg, image/gif, image/jpeg",uploader:{uploadByUrl:function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:1,file:{url:t}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uploadByFile:function(){var e=Object(v.a)(E.a.mark((function e(t){var a,n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size/1e6>10)){e.next=3;break}return b("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 (10\u043c\u0431 \u043c\u0430\u043a\u0441.)"),e.abrupt("return",{success:0});case 3:return(a=new FormData).append("file",t),n={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(R)}},e.next=8,T.a.post("".concat(S,"/files"),a,n);case 8:return r=e.sent,c=r.data.url,e.abrupt("return",{success:1,file:{url:"".concat(P).concat(c)}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},header:zn.a,delimiter:Qn.a}}),[]);return c.a.createElement("div",{className:Be()($n.a.field,(t={},Object(Le.a)(t,$n.a.errorField,!!a),Object(Le.a)(t,o,!!o),t))},c.a.createElement(Pn.a,{tools:_,data:m,onReady:function(){l.current&&l.current.save()},onChange:function(){var e=Object(v.a)(E.a.mark((function e(t,a){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(l.current),!l.current){e.next=4;break}return e.next=4,l.current.save();case 4:r=tr(a),n(a,r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),instanceRef:function(e){return l.current=e}}),a&&c.a.createElement("div",{className:$n.a.error},a),f&&c.a.createElement(La,{onClose:function(){return b("")},title:"\u041e\u0448\u0438\u0431\u043a\u0430"},f))}function tr(e){var t="";return e.blocks.forEach((function(e){var a;switch(console.log(e),e.type){case"header":t+='<div class="ce-block"><div class="ce-block__content"><h'+e.data.level+' class="ce-header">'+e.data.text+"</h"+e.data.level+"></div></div>";break;case"list":t+='<div class="ce-block"><div class="ce-block__content">',t+='<ul class="cdx-block cdx-list cdx-list--'.concat("unordered"===e.data.style?"un":"",'ordered">'),e.data.items.forEach((function(e){t+='<li class="cdx-list__item">'.concat(e,"</li>")})),t+="</ul>",t+="</div></div>";break;case"paragraph":t+='<div class="ce-block"><div class="ce-block__content"><div class="ce-paragraph cdx-block">'+e.data.text+"</div></div></div>\n";break;case"image":(null===(a=e.data.file)||void 0===a?void 0:a.url)&&(t+='<div class="ce-block"><div class="ce-block__content"><div class="image-tool image-tool--filled cdx-block">',t+='<div class="image-tool__image">',t+='<img class="image-tool__image-picture" src="'.concat(e.data.file.url,'" >'),t+="</div>",e.data.caption&&(t+='<div class="ce-paragraph cdx-block" data-placeholder="Caption">'.concat(e.data.caption,"</div>")),t+="</div></div></div>");break;case"delimiter":t+='<div class="ce-block"><div class="ce-block__content"><div class="ce-delimiter cdx-block"></div></div></div>';break;case"code":t+='<div class="ce-block"><div class="ce-block__content"><div class="ce-code cdx-block">',t+='<textarea readonly class="ce-code__textarea">'.concat(e.data.code,"</textarea>"),t+="</div></div></div>";break;case"table":var n="";e.data.content.map((function(e){var t="";e.forEach((function(e){t+='<td class="tc-table__cell"><div class="tc-table__area">'+e+"</div></td>\n"})),n+="<tr>"+t+"</tr>\n"})),t+='<div class="ce-block"><div class="ce-block__content"><div class="tc-editor cdx-block"><div class="tc-table__wrap"><table class="tc-table"><tbody>'+n+"</tbody></table></div></div></div></div>\n";break;case"checklist":var r="";e.data.items.map((function(e){var t="";e.checked&&(t="--checked"),r+='<div class="cdx-checklist__item cdx-checklist__item'+t+'"><span class="cdx-checklist__item-checkbox"></span><div class="cdx-checklist__item-text">'+e.text+"</div></div>"})),t+='<div class="ce-block"><div class="ce-block__content"><div class="cdx-block cdx-checklist">'+r+"</div></div></div>\n";break;case"embed":(e.data.embed||e.data.source)&&(t+='<div class="ce-block"><div class="ce-block__content"><div class="cdx-block embed-tool"><iframe style="width:100%;" height="320" frameborder="0" allowfullscreen="" src="'.concat(e.data.embed||e.data.source,'" class="embed-tool__content"></iframe></div></div></div>'))}})),t+=""}var ar=a(58),nr=a.n(ar);function rr(e){var t=e.onSave,a=e.disabled,u=e.comment,o=e.onCancel,i=e.parent,s=Object(r.useState)((null===u||void 0===u?void 0:u.text)||""),m=Object(O.a)(s,2),p=m[0],d=m[1],f=Object(r.useState)(JSON.parse((null===u||void 0===u?void 0:u.data)||"{}")),b=Object(O.a)(f,2),_=b[0],C=b[1],j=Object(r.useState)(!1),g=Object(O.a)(j,2),h=g[0],D=g[1],y=Object(r.useState)(!1),w=Object(O.a)(y,2),A=w[0],N=w[1],k=Se().user,x=Object(r.useState)({}),F=Object(O.a)(x,2),I=F[0],T=F[1],S=Object(l.b)();return k?c.a.createElement("div",{className:nr.a.wrapper},!u&&c.a.createElement("div",{className:nr.a.title},i?"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),h?c.a.createElement("div",null):c.a.createElement(c.a.Fragment,null,c.a.createElement(er,{className:nr.a.field,value:_,onChange:function(e,t){d(t),C(e)},placeholder:"Start writing here (1000 max)"}),Object.keys(I).length>0&&c.a.createElement("div",{className:nr.a.errors},I.html&&c.a.createElement("div",{className:nr.a.error},I.html),I.image&&c.a.createElement("div",{className:nr.a.error},I.image)),c.a.createElement("div",{className:nr.a.bottom},c.a.createElement("button",{className:Be()("button","button-primary"),disabled:a,onClick:Object(v.a)(E.a.mark((function e(){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},0===(n=Sn()(p,{allowedTags:[]}).trim()).length?a.html="\u041d\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430":n.length>1e3&&(a.html="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),T(a),!(Object.keys(a).length>0)){e.next=6;break}return e.abrupt("return");case 6:return D(!0),e.next=9,t(p,_,A);case 9:if(!e.sent){e.next=12;break}d(""),N(!1);case 12:D(!1);case 13:case"end":return e.stop()}}),e)})))},u?"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),o&&c.a.createElement("button",{className:Be()("button","button-secondary"),disabled:a,onClick:o},"Cancel"),!u&&c.a.createElement("div",{className:nr.a.anonymous},c.a.createElement(xn.a,{checked:A,id:"anonymous",onChange:function(e){N(e.target.checked)}}),c.a.createElement("span",null,"\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u043e"))))):c.a.createElement("div",{className:nr.a.guest},c.a.createElement("span",{onClick:function(){return S({type:n.LOGIN_VISIBILITY_ACTION,payload:!0})}},"Sign in")," to comment")}var cr,ur=a(162),or=a.n(ur),lr=document.getElementById("modal");function ir(e){var t=e.text,a=e.ok,n=e.cancel,o=e.okText,l=e.cancelText,i=e.title;return Object(r.useEffect)((function(){return document.body.classList.add("disabled"),function(){document.body.classList.remove("disabled")}})),Object(u.createPortal)(c.a.createElement(La,{title:i},c.a.createElement("div",{className:or.a.text},t),c.a.createElement("div",{className:or.a.actions},c.a.createElement("button",{className:Be()("button","button-primary"),onClick:a},o||"\u0414\u0430"),c.a.createElement("button",{className:Be()("button","button-secondary"),onClick:n},l||"\u041e\u0442\u043c\u0435\u043d\u0430"))),lr)}function sr(e,t,a,n){return mr.apply(this,arguments)}function mr(){return(mr=Object(v.a)(E.a.mark((function e(t,a,n,r){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={},t&&(c.project=t),n&&(c.user=n),a&&(c.page=a),r&&(c.before=r),e.abrupt("return",L("comments?".concat(q.a.stringify(c)),"get"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pr(e,t,a,n,r,c){var u=new FormData;return u.append("text",t),u.append("data",JSON.stringify(a)),u.append("projectId",e.toString()),n&&u.append("pageId",n.toString()),r&&u.append("anonymous",r.toString()),c&&u.append("parentId",c.toString()),J("comments","post",u,{headers:{"Content-Type":"multipart/form-data"}})}function dr(e,t,a){var n=new FormData;return n.append("text",t),n.append("data",JSON.stringify(a)),J("comments/".concat(e),"patch",n,{headers:{"Content-Type":"multipart/form-data"}})}function fr(e,t){return J("comments/".concat(e,"/like?type=").concat(t),"post")}function br(){return(br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Er(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var vr=function(e){var t=e.svgRef,a=e.title,n=Er(e,["svgRef","title"]);return c.a.createElement("svg",br({width:10,height:10,viewBox:"0 0 10 10",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,cr||(cr=c.a.createElement("path",{d:"M1 6.5L3.806 6.5L3.2445 8.1835C3.1435 8.4875 3.1945 8.8245 3.382 9.0845C3.5695 9.3445 3.8735 9.5 4.194 9.5L5 9.5C5.1485 9.5 5.289 9.434 5.3845 9.32L7.7345 6.5L9 6.5C9.5515 6.5 10 6.0515 10 5.5L10 1C10 0.448501 9.5515 9.14465e-07 9 8.66252e-07L2.3465 2.84584e-07C2.14306 0.000675468 1.94461 0.0630801 1.77739 0.178962C1.61018 0.294844 1.48207 0.458746 1.41 0.649L0.0315013 4.3245C0.010571 4.38064 -9.77861e-05 4.44009 1.39079e-06 4.5L1.30337e-06 5.5C1.25515e-06 6.0515 0.448502 6.5 1 6.5ZM9 5.5L8 5.5L8 1L9 1L9 5.5ZM1 4.5905L2.3465 1L7 1L7 5.819L4.766 8.5L4.193 8.5L4.974 6.1585C4.99935 6.08334 5.00643 6.00322 4.99463 5.92479C4.98283 5.84635 4.95251 5.77185 4.90617 5.70748C4.85983 5.6431 4.79881 5.5907 4.72818 5.55462C4.65754 5.51854 4.57932 5.49981 4.5 5.5L1 5.5L1 4.5905Z",fill:"black"})))},Or=c.a.forwardRef((function(e,t){return c.a.createElement(vr,br({svgRef:t},e))}));a.p;function _r(e){var t,a=e.disabled,u=e.hasLink,o=e.deleted,i=e.comment,s=e.className,m=e.level,p=e.onAnswerAdd,f=e.onUpdate,b=Se().user,_=Object(r.useState)(!1),C=Object(O.a)(_,2),j=C[0],h=C[1],D=Object(r.useState)(!1),y=Object(O.a)(D,2),w=y[0],A=y[1],N=Object(l.b)(),k=Object(l.c)((function(e){return e.user})).openCommentForm,x=i.anonymous,F=i.user,I=Object(r.useState)(!1),T=Object(O.a)(I,2),S=T[0],L=T[1],R=b&&(F&&b.id===F.id||b.isAdmin),B=b&&F&&b.id===F.id,M=Object(r.useMemo)((function(){return i.text}),[i.text]);return c.a.createElement("div",null,c.a.createElement("div",{className:Be()(In.a.wrapper,(t={},Object(Le.a)(t,In.a.highlight,!!i.highlight),Object(Le.a)(t,s,!!s),t))},o?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:In.a.userImage}),c.a.createElement("div",{className:In.a.content},c.a.createElement("div",{className:In.a.deletedText},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442 \u0443\u0434\u0430\u043b\u0435\u043d"))):j?c.a.createElement(rr,{comment:i,disabled:w,onSave:function(){var e=Object(v.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,dr(i.id,t,a);case 4:n=e.sent,r=n.data,f(r),h(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:A(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),onCancel:function(){return h(!1)}}):c.a.createElement(c.a.Fragment,null,x?c.a.createElement("span",{className:In.a.userImage}):u?c.a.createElement(d.b,{to:"/users/".concat(F.id),className:In.a.userImage,style:{backgroundImage:F.cover?"url(".concat(F.cover.startsWith("images/")?"".concat(P,"/").concat(F.cover):F.cover,")"):""}}):c.a.createElement("div",{className:In.a.userImage,style:{backgroundImage:F.cover?"url(".concat(F.cover.startsWith("images/")?"".concat(P,"/").concat(F.cover):F.cover,")"):""}}),c.a.createElement("div",{className:In.a.content},x?c.a.createElement("span",{className:In.a.anonymous},"\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"):u?c.a.createElement(d.b,{to:"/users/".concat(F.id),className:In.a.name},F.name):c.a.createElement("div",{className:In.a.name},F.name),c.a.createElement("div",{className:In.a.date},Ft.a.utc(i.created).local().format("kk:mm D MMM YYYY")),c.a.createElement("div",{className:Be()("trix-content",In.a.text),dangerouslySetInnerHTML:{__html:M}}),c.a.createElement("div",{className:In.a.bottom},c.a.createElement("div",{className:In.a.likes},c.a.createElement(Rt,{onClick:Object(v.a)(E.a.mark((function e(){var t,a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=3;break}return N({type:n.LOGIN_VISIBILITY_ACTION,payload:!0}),e.abrupt("return");case 3:return e.next=5,fr(i.id,1);case 5:t=e.sent,a=t.data,r=a.positiveScore,c=a.negativeScore,f(Object(g.a)(Object(g.a)({},i),{},{positiveScore:r,negativeScore:c}));case 10:case"end":return e.stop()}}),e)})))}),c.a.createElement("div",{className:In.a.likeCount},i.positiveScore-i.negativeScore),c.a.createElement(Or,{onClick:Object(v.a)(E.a.mark((function e(){var t,a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=3;break}return N({type:n.LOGIN_VISIBILITY_ACTION,payload:!0}),e.abrupt("return");case 3:return e.next=5,fr(i.id,2);case 5:t=e.sent,a=t.data,r=a.positiveScore,c=a.negativeScore,f(Object(g.a)(Object(g.a)({},i),{},{positiveScore:r,negativeScore:c}));case 10:case"end":return e.stop()}}),e)})))})),!a&&c.a.createElement("div",{onClick:function(){N(b?{type:n.COMMENT_FORM_OPEN_ACTION,payload:i}:{type:n.LOGIN_VISIBILITY_ACTION,payload:!0})},className:In.a.reply},"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c")),c.a.createElement("div",{className:In.a.actions},B&&c.a.createElement("span",{onClick:function(){return h(!0)},className:In.a.action},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),R&&c.a.createElement("span",{onClick:function(){return L(!0)},className:In.a.action},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))),i.children&&i.children.length?c.a.createElement("div",{className:In.a.answers},i.children.map((function(e){return c.a.createElement(_r,{onUpdate:f,deleted:e.deleted,level:m+1,className:In.a.answer,onAnswerAdd:p,comment:e,key:e.id,hasLink:u})}))):null,k&&k.id===i.id&&b&&c.a.createElement("div",{className:In.a.addAnswer},c.a.createElement(rr,{disabled:w,parent:k,onSave:function(){var e=Object(v.a)(E.a.mark((function e(t,a,r){var c,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,pr(i.projectId,t,a,i.pageId,r,i.id);case 4:return c=e.sent,u=c.data,p&&p(u),N({type:n.COMMENT_FORM_OPEN_ACTION,payload:void 0}),A(!1),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(1),console.error(e.t0),A(!1),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()})),S&&c.a.createElement(ir,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",ok:Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t=i.id,J("comments/".concat(t),"delete");case 2:f(Object(g.a)(Object(g.a)({},i),{},{deleted:!0})),L(!1);case 4:case"end":return e.stop()}var t}),e)}))),cancel:function(){return L(!1)},okText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}))}var Cr,jr;a(237);function gr(){return hr.apply(this,arguments)}function hr(){return(hr=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jr){e.next=3;break}return e.next=3,jr;case 3:return e.abrupt("return",Cr);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dr=a(59),yr=a.n(Dr);function wr(e){var t=e.projectId,a=e.pageId,u=e.userId,o=Object(r.useState)(!1),i=Object(O.a)(o,2),s=i[0],m=i[1],p=Object(l.b)(),d=Object(l.c)((function(e){return e.project})).comments,f=Object(l.c)((function(e){return e.user})).openCommentForm,b=Se().user,C=Object(r.useState)(!0),h=Object(O.a)(C,2),D=h[0],y=h[1],w=Object(r.useState)(!1),N=Object(O.a)(w,2),k=N[0],x=N[1],F=Object(_.g)();Object(r.useLayoutEffect)((function(){if(d&&!k){var e=F.hash;if(-1!==e.indexOf("#comment")){var t=+e.replace("#comment","");if(t){var a=d.findIndex((function(e){return e.id===t}));-1===a||d[a].highlight||(d[a]=Object(g.a)(Object(g.a)({},d[a]),{},{highlight:!0}),p({type:A.LOAD_COMMENTS_ACTION,payload:Object(j.a)(d)}))}}x(!0)}}),[d]),Object(r.useEffect)((function(){return p({type:A.LOAD_COMMENTS_ACTION,payload:null}),function(){var e=Object(v.a)(E.a.mark((function e(t,a,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,sr(t,a,n);case 4:r=e.sent,p({type:A.LOAD_COMMENTS_ACTION,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p({type:A.LOAD_COMMENTS_ACTION,payload:[]});case 11:m(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}()(t,a,u),function(){p({type:A.LOAD_COMMENTS_ACTION,payload:[]}),p({type:n.COMMENT_FORM_OPEN_ACTION,payload:void 0})}}),[t,u]);var I=Object(r.useMemo)((function(){if(!d)return[];var e=kn()(d,["depth"]).reverse(),t=[];e.forEach((function(a){var n=e.filter((function(e){return e.threadId===a.id||e.parentId===a.id}));(!a.deleted||n.filter((function(e){return!e.deleted})).length>0)&&(!D||a.positiveScore-a.negativeScore>=0||n.filter((function(e){return e.positiveScore-e.negativeScore>=0})).length>0)&&t.push(a)}));var a=kn()(t,["id"]).map((function(e){return Object(g.a)({},e)})),n=a.filter((function(e){return!e.parentId}));return a.forEach((function(e){e.children=a.filter((function(t){return t.parentId===e.id}))})),n}),[d,D]);if(Object(r.useEffect)((function(){if(!u){var e,n=function(){var e=Object(v.a)(E.a.mark((function e(){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sr(t,a,void 0);case 3:n=e.sent,p({type:A.LOAD_COMMENTS_ACTION,payload:n.data}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),r=!1,c="CommentsChanged:".concat(t).concat(a?":".concat(a):"");return function(){var t=Object(v.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gr();case 2:e=t.sent,!r&&e&&e.on(c,n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){r=!0,e&&(e.off(c,n),e=void 0)}}}),[t,a,u,b]),!d)return c.a.createElement("div",{className:"spinner"});var T=function(){var e=Object(v.a)(E.a.mark((function e(r,c,u){var o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return m(!0),e.prev=3,e.next=6,pr(t,r,c,a,u);case 6:return o=e.sent,p({type:A.LOAD_COMMENTS_ACTION,payload:[].concat(Object(j.a)(d),[Object(g.a)(Object(g.a)({},o.data),{},{children:[]})])}),p({type:n.COMMENT_FORM_OPEN_ACTION,payload:void 0}),m(!1),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(3),m(!1),console.error(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,a,n){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:yr.a.wrapper},c.a.createElement("div",{className:yr.a.top},c.a.createElement("div",{className:yr.a.title},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 (",I.length,"):"),c.a.createElement("div",{className:yr.a.hideNegative},c.a.createElement(xn.a,{checked:!D,onChange:function(e){y(!e.target.checked)}}),c.a.createElement("span",null,"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u044b\u0435"))),c.a.createElement("div",{className:yr.a.list},0===I.length&&c.a.createElement("div",{className:yr.a.empty},"\u041d\u0435\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),I.map((function(e){return c.a.createElement(_r,{level:1,onAnswerAdd:function(e){p({type:A.LOAD_COMMENTS_ACTION,payload:[].concat(Object(j.a)(d),[e])})},className:yr.a.comment,comment:e,deleted:e.deleted,disabled:!t,key:e.id,hasLink:!u,onUpdate:function(e){var t=d.findIndex((function(t){return t.id===e.id}));d[t]=Object(g.a)({},e),p({type:A.LOAD_COMMENTS_ACTION,payload:Object(j.a)(d)})}})}))),t&&(null===f?c.a.createElement(rr,{disabled:s,onSave:T}):c.a.createElement("div",{onClick:function(){p(b?{type:n.COMMENT_FORM_OPEN_ACTION,payload:null}:{type:n.LOGIN_VISIBILITY_ACTION,payload:!0})},className:Be()(yr.a.reply,yr.a.addComment)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")))}var Ar=a(23),Nr=a.n(Ar);function kr(e){var t=e.user,a=e.onEdit,u=Object(r.useState)(null),o=Object(O.a)(u,2),i=o[0],s=o[1],m=Object(_.f)(),p=Object(_.h)(),d=+(t?t.id:p.id),f=Object(r.useState)(!1),b=Object(O.a)(f,2),h=b[0],D=b[1],y=Object(r.useState)(!0),w=Object(O.a)(y,2),N=w[0],k=w[1],x=Object(l.b)(),F=Se().user,I=Object(r.useState)(0),T=Object(O.a)(I,2),S=T[0],L=T[1],R=Object(l.c)((function(e){return e.project})).projects;Object(r.useEffect)((function(){return function(){var e=Object(v.a)(E.a.mark((function e(){var t,a,n,r,c,u,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),s(null),!d){e.next=28;break}return e.prev=3,e.next=6,ve(+d);case 6:return t=e.sent,a=t.data,e.next=10,_e(+d);case 10:return n=e.sent,r=n.data,e.next=14,we(+d);case 14:return c=e.sent,u=c.data,e.next=18,Ne(+d);case 18:o=e.sent,o.data,x({type:A.LOAD_PROJECTS_ACTION,payload:Object(j.a)(u)}),s(Object(g.a)(Object(g.a)({},a),r)),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),console.error(e.t0),m.replace("/");case 28:k(!1);case 29:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(){return e.apply(this,arguments)}}()(),function(){x({type:A.LOAD_PROJECTS_ACTION,payload:[]})}}),[d]);var B=function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:An.a.remove("refreshToken"),H(""),x({type:n.LOGOUT_ACTION,payload:!0}),V();case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return!i||N?c.a.createElement("div",{className:"spinner overlay-spinner"}):c.a.createElement("div",{className:Be()("content",Nr.a.wrapper)},c.a.createElement(C.a,null,c.a.createElement("title",null,"Projects & protocols repository: ",i.name)),c.a.createElement("div",{className:Nr.a.left},i.cover&&c.a.createElement("div",{className:Nr.a.cover,style:{backgroundImage:"url(".concat(i.cover.startsWith("images/")?"".concat(P,"/").concat(i.cover):i.cover,")")}}),c.a.createElement("div",{className:Nr.a.name},i.name),(i.city||i.education)&&c.a.createElement("div",{className:Nr.a.info},i.city&&c.a.createElement("div",null,i.city),i.education&&c.a.createElement("div",null,i.education)),F&&F.id===i.id&&c.a.createElement("div",{className:Nr.a.actions},c.a.createElement("button",{onClick:a,className:Be()("button","button-primary")},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),c.a.createElement("button",{onClick:B,className:Be()("button","button-primary")},"\u0412\u044b\u0439\u0442\u0438")),i.tags&&i.tags.length>0&&c.a.createElement("div",{className:Nr.a.row},c.a.createElement("div",{className:Nr.a.label},"\u041d\u0430\u0443\u0447\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u044b:"),c.a.createElement("div",{className:Nr.a.values},i.tags.map((function(e){return c.a.createElement("div",{className:Nr.a.value,key:e},e)})))),i.skills&&i.skills.length>0&&c.a.createElement("div",{className:Nr.a.row},c.a.createElement("div",{className:Nr.a.label},"\u041d\u0430\u0432\u044b\u043a\u0438:"),c.a.createElement("div",{className:Nr.a.values},i.skills.map((function(e){return c.a.createElement("div",{className:Nr.a.value,key:e},e)})))),i.links&&i.links.length>0&&c.a.createElement("div",{className:Nr.a.row},c.a.createElement("div",{className:Nr.a.label},"\u0421\u0441\u044b\u043b\u043a\u0438:"),c.a.createElement("div",{className:Nr.a.values},i.links.map((function(e){return c.a.createElement("div",{className:Nr.a.link,key:e},c.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e))}))))),c.a.createElement("div",{className:Be()("content",Nr.a.center)},R&&R.length>0&&c.a.createElement("div",{className:Nr.a.projects},c.a.createElement(Gt,{projects:R,className:Nr.a.projects,hasMore:R.length>=8*(S+1),disabled:h,onMoreLoad:Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),e.next=4,we(+d,S+1);case 4:t=e.sent,a=t.data,L(S+1),x({type:A.LOAD_PROJECTS_ACTION,payload:[].concat(Object(j.a)(R),Object(j.a)(a))}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:D(!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),onLike:function(){var e=Object(v.a)(E.a.mark((function e(t){var a,r,c,u,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=3;break}return x({type:n.LOGIN_VISIBILITY_ACTION,payload:!0}),e.abrupt("return");case 3:return e.prev=3,e.next=6,aa(t.id);case 6:a=e.sent,r=a.data,c=r.count,u=r.liked,o=R.indexOf(t),R[o]=Object(g.a)(Object(g.a)({},t),{},{likesCount:c,liked:u}),x({type:A.LOAD_PROJECTS_ACTION,payload:Object(j.a)(R)}),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(3);case 17:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}()})),c.a.createElement("div",{className:Nr.a.comments},c.a.createElement(wr,{userId:d}))),c.a.createElement("div",{className:Nr.a.right}))}function xr(){var e=Se().user,t=Object(_.f)();return Object(r.useEffect)((function(){e||t.replace("/")}),[e]),e?c.a.createElement(kr,{user:e,onEdit:function(){return t.push("/account/edit")}}):null}var Fr=/^(?:[A-Za-z\u0410-\u042f\u0430-\u044f\d\s]+)$/,Ir=/^(?:[A-Za-z\u0410-\u042f\u0430-\u044f\d]+)$/;function Tr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(t?Fr:Ir).test(e)}function Sr(e,t,a){var n=document.createElement("div");n.innerHTML=e;var r=n.getElementsByTagName(t)[0];return r?r[a]:""}var Pr=a(88),Lr=a(28),Rr=a.n(Lr);function Br(e){var t,a=e.onBack,u=Se().user,o=Object(l.c)((function(e){return e.user})).userInfo,i=Object(_.f)(),s=Object(l.b)(),m=Object(r.useState)(""),p=Object(O.a)(m,2),d=p[0],f=p[1],b=Object(r.useState)(""),C=Object(O.a)(b,2),g=C[0],h=C[1],D=Object(r.useState)(""),y=Object(O.a)(D,2),w=y[0],A=y[1],N=Object(r.useState)(""),k=Object(O.a)(N,2),x=k[0],F=k[1],I=Object(r.useState)([]),T=Object(O.a)(I,2),S=T[0],L=T[1],R=Object(r.useState)([]),B=Object(O.a)(R,2),M=B[0],H=B[1],V=Object(r.useState)([]),U=Object(O.a)(V,2),W=U[0],J=U[1],Z=Object(r.useState)(null),Y=Object(O.a)(Z,2),G=Y[0],q=Y[1],z=Object(r.useState)(""),K=Object(O.a)(z,2),Q=K[0],X=K[1],$=Object(r.useState)(""),ee=Object(O.a)($,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(""),re=Object(O.a)(ne,2),ce=re[0],ue=re[1],oe=Object(r.useState)(!0),le=Object(O.a)(oe,2),ie=le[0],se=le[1],me=Object(r.useState)({}),pe=Object(O.a)(me,2),de=pe[0],fe=pe[1],be=Object(r.useState)(!1),Ee=Object(O.a)(be,2),ve=(Ee[0],Ee[1]),Oe=Object(r.useState)(""),Ce=Object(O.a)(Oe,2),ge=Ce[0],he=Ce[1],De=Object(Pr.a)({accept:"image/png, image/jpg, image/gif, image/jpeg"}),ye=De.acceptedFiles,we=De.getRootProps,Ae=De.getInputProps,Ne=De.isDragAccept,ke=De.isDragReject,xe=Object(r.useCallback)((function(){o&&u&&(J(o.links||[]),H(o.skills||[]),L(o.tags||[]),F(o.education||""),A(o.city||""),f(u.name||""),he(u.cover?u.cover.startsWith("images/")?"".concat(P,"/").concat(u.cover):u.cover:""),h(u.login||""),X(""),ae(""),ue(""))}),[o,u]);if(Object(r.useEffect)((function(){u?(se(!0),function(){var e=Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e();case 3:t=e.sent,a=t.data,s({type:n.LOAD_USER_INFO_ACTION,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i.replace("/");case 11:se(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()):i.replace("/")}),[u]),Object(r.useEffect)((function(){xe()}),[xe]),Object(r.useEffect)((function(){ye.length>0&&q(ye[0])}),[ye.length]),Object(r.useEffect)((function(){if(G){var e=new FileReader;e.onload=function(e){he(e.target.result)},e.readAsDataURL(G)}}),[G]),!u)return null;var Fe=function(){var e=Object(v.a)(E.a.mark((function e(){var t,r,c,u,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},0===d.trim().length?t.name="\u041f\u0443\u0441\u0442\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435":d.trim().length>120?t.name="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435":/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/.test(d.replace(/\s/g,""))||(t.name="\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),g.trim().length>0&&!Tr(g.trim(),!1)?t.login="\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435":g.trim().length>120&&(t.login="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),G&&G.size/1e6>10&&(t.cover="\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 (10\u043c\u0431 \u043c\u0430\u043a\u0441.)"),fe(t),0!==Object.keys(t).length){e.next=26;break}return se(!0),ve(!1),e.prev=8,e.next=11,je({name:d,login:g,city:w,education:x,tags:S,skills:M,links:W,cover:ge,coverFile:G});case 11:r=e.sent,c=r.data,u=c.account,o=c.info,s({type:n.LOAD_USER_ACTION,payload:Te.FromResponse(u)}),s({type:n.LOAD_USER_INFO_ACTION,payload:o}),a(),ve(!0),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),console.error(e.t0),fe(JSON.parse(e.t0.data.message));case 25:se(!1);case 26:case"end":return e.stop()}}),e,null,[[8,21]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:Rr.a.wrapper},c.a.createElement("div",{className:Rr.a.title},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"),c.a.createElement("div",{className:Rr.a.form},c.a.createElement(Va,{maxLength:120,length:d.trim().length},c.a.createElement(dn,{fullWidth:!0,size:"bg",name:"name",value:d,label:"\u0418\u043c\u044f",invalid:!!de.name,invalidText:de.name,onChange:function(e){f(e.target.value)}})),c.a.createElement(Va,{maxLength:120,length:g.trim().length},c.a.createElement(dn,{fullWidth:!0,label:"\u041b\u043e\u0433\u0438\u043d",name:"login",size:"bg",value:g,invalid:!!de.login,invalidText:de.login,onChange:function(e){h(e.target.value)}})),c.a.createElement(Va,{maxLength:120,length:w.trim().length},c.a.createElement(dn,{fullWidth:!0,label:"\u0413\u043e\u0440\u043e\u0434",size:"bg",name:"city",value:w,invalid:!!de.city,invalidText:de.city,onChange:function(e){A(e.target.value)}})),c.a.createElement(Va,{maxLength:120,length:w.trim().length},c.a.createElement(dn,{fullWidth:!0,label:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435",size:"bg",name:"education",value:x,invalid:!!de.education,invalidText:de.education,onChange:function(e){F(e.target.value)}})),c.a.createElement(Va,{maxLength:20,length:S.length},c.a.createElement("div",{className:Rr.a.listTitle},"\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u044b:"),c.a.createElement("div",{className:Rr.a.list},S.map((function(e,t){return c.a.createElement("div",{key:t,className:Rr.a.listItem},c.a.createElement("span",null,e),c.a.createElement(Ta,{onClick:function(){return L(S.filter((function(t){return t!==e})))}}))}))),S.length<20&&c.a.createElement("div",{className:Rr.a.listForm},c.a.createElement(dn,{size:"bg",value:Q,name:"newTag",invalid:Q.trim().length>0&&!Tr(Q.trim()),onChange:function(e){X(e.target.value)}}),c.a.createElement("button",{disabled:0===Q.trim().length||!Tr(Q.trim()),onClick:function(){L([].concat(Object(j.a)(S),[Q.trim()])),X("")},className:Be()("button","button-primary")},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))),c.a.createElement(Va,{maxLength:20,length:M.length},c.a.createElement("div",{className:Rr.a.listTitle},"\u041d\u0430\u0432\u044b\u043a\u0438:"),c.a.createElement("div",{className:Rr.a.list},M.map((function(e,t){return c.a.createElement("div",{key:t,className:Rr.a.listItem},c.a.createElement("span",null,e),c.a.createElement(Ta,{onClick:function(){return H(M.filter((function(t){return t!==e})))}}))}))),M.length<20&&c.a.createElement("div",{className:Rr.a.listForm},c.a.createElement(dn,{size:"bg",value:te,name:"newSkill",invalid:te.trim().length>0&&!Tr(te.trim()),onChange:function(e){ae(e.target.value)}}),c.a.createElement("button",{disabled:0===te.trim().length||!Tr(te.trim()),onClick:function(){H([].concat(Object(j.a)(M),[te.trim()])),ae("")},className:Be()("button","button-primary")},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))),c.a.createElement(Va,{maxLength:20,length:W.length},c.a.createElement("div",{className:Rr.a.listTitle},"\u0421\u0441\u044b\u043b\u043a\u0438:"),c.a.createElement("div",{className:Rr.a.list},W.map((function(e,t){return c.a.createElement("div",{key:t,className:Rr.a.listItem},c.a.createElement("span",null,e),c.a.createElement(Ta,{onClick:function(){return J(W.filter((function(t){return t!==e})))}}))}))),W.length<20&&c.a.createElement("div",{className:Rr.a.listForm},c.a.createElement(dn,{size:"bg",value:ce,name:"newLink",invalid:ce.trim().length>0&&!ka.a.isURL(ce.trim()),onChange:function(e){ue(e.target.value)}}),c.a.createElement("button",{disabled:0===ce.trim().length||!ka.a.isURL(ce.trim()),onClick:function(){J([].concat(Object(j.a)(W),[ce.trim().toLowerCase()])),ue("")},className:Be()("button","button-primary")},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))),ge?c.a.createElement("div",{className:Rr.a.image},c.a.createElement("img",{src:ge,alt:""}),c.a.createElement("button",{className:Be()("button","button-danger"),disabled:ie,onClick:function(){q(null),he("")}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")):c.a.createElement("div",we({maxFiles:1,className:Be()("dropzone",Rr.a.imageDrop,(t={},Object(Le.a)(t,Rr.a.rejectImageDrop,ke),Object(Le.a)(t,Rr.a.activeImageDrop,Ne),t))}),c.a.createElement("input",Ae()),c.a.createElement("p",null,"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u044e\u0434\u0430")),de.cover&&c.a.createElement("div",{className:Rr.a.imageError},de.cover),c.a.createElement("div",{className:Rr.a.actions},c.a.createElement("button",{disabled:ie,className:Be()("button","button-primary"),onClick:Fe},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("button",{disabled:ie,className:Be()("button","button-secondary"),onClick:a},"\u041d\u0430\u0437\u0430\u0434"))))}function Mr(){var e=Se().user,t=Object(_.f)();return Object(r.useEffect)((function(){e||t.replace("/")}),[e]),e?c.a.createElement(Br,{onBack:function(){return t.push("/account")}}):null}var Hr=a(519),Vr=a(32),Ur=a.n(Vr);function Wr(e){var t,a=e.className,n=e.project,u=e.onSave,o=e.onCancel,i=Object(r.useState)(""),s=Object(O.a)(i,2),m=s[0],p=s[1],d=Object(r.useState)(""),f=Object(O.a)(d,2),b=f[0],C=f[1],j=Object(r.useState)(null),g=Object(O.a)(j,2),h=g[0],D=g[1],y=Object(r.useState)(null),w=Object(O.a)(y,2),N=w[0],k=w[1],x=Object(r.useState)(!0),F=Object(O.a)(x,2),I=F[0],T=F[1],S=Object(r.useState)(null),L=Object(O.a)(S,2),R=L[0],B=L[1],M=Object(r.useState)(""),H=Object(O.a)(M,2),V=H[0],U=H[1],W=Object(r.useState)({}),J=Object(O.a)(W,2),Z=J[0],Y=J[1],G=Object(r.useState)(!1),q=Object(O.a)(G,2),z=q[0],K=q[1],Q=Object(r.useState)(null),X=Object(O.a)(Q,2),$=X[0],ee=X[1],te=Object(_.f)(),ae=Object(l.b)(),ne=Object(r.useState)(0),re=Object(O.a)(ne,2),ce=re[0],ue=re[1],oe=Object(Pr.a)({accept:"image/png, image/jpg, image/jpeg, image/gif"}),le=oe.acceptedFiles,ie=oe.getRootProps,se=oe.getInputProps,me=oe.isDragAccept,pe=oe.isDragReject;if(Object(r.useEffect)((function(){if(!n)return p(""),C(""),D(""),k({}),void T(!0);p(n.name),C(n.description),D(n.content||""),T(!!n.draft),U("".concat(P,"/images/").concat(n.cover));try{k(JSON.parse(n.data||"{}"))}catch(e){k({})}}),[n]),Object(r.useEffect)((function(){le.length>0&&B(le[0])}),[le.length]),Object(r.useEffect)((function(){if(R){var e=new FileReader;e.onload=function(e){U(e.target.result)},e.readAsDataURL(R)}}),[R]),null===h)return null;var de=function(){var e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y({}),K(!0),e.prev=3,console.log("project: ",{name:m,description:b,content:h,dt:N,cover:R,draft:I,type:ce}),e.next=7,ta(m,b,h,N,R,I,ce);case 7:t=e.sent,console.log("response: ",t),u&&u(null===t||void 0===t?void 0:t.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:Be()(Ur.a.container,Object(Le.a)({},a,!!a))},c.a.createElement("div",{className:Ur.a.top},!n&&c.a.createElement("div",{className:Ur.a.types},c.a.createElement("div",{className:Ur.a.typesTitle},"\u0422\u0438\u043f:"),c.a.createElement("div",{className:Ur.a.typesList},c.a.createElement("div",null,c.a.createElement(Hr.a,{checked:0===ce,onChange:function(e){return ue(+e.target.value)},value:0}),c.a.createElement("span",null,"\u041f\u0440\u043e\u0435\u043a\u0442")),c.a.createElement("div",null,c.a.createElement(Hr.a,{checked:1===ce,onChange:function(e){return ue(+e.target.value)},value:1}),c.a.createElement("span",null,"\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b")),c.a.createElement("div",null,c.a.createElement(Hr.a,{checked:2===ce,onChange:function(e){return ue(+e.target.value)},value:2}),c.a.createElement("span",null,"\u041e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0435")))),c.a.createElement(Va,{maxLength:120,length:m.trim().length,className:Ur.a.row},c.a.createElement(dn,{fullWidth:!0,size:"bg",name:"name",value:m,invalid:!!Z.name,invalidText:Z.name,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(e){p(e.target.value)}})),c.a.createElement(Va,{maxLength:5e3,length:b.trim().length,className:Ur.a.row},c.a.createElement(dn,{fullWidth:!0,size:"bg",name:"description",value:b,invalid:!!Z.description,invalidText:Z.description,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:function(e){C(e.target.value)}}))),V?c.a.createElement("div",{className:Ur.a.image},c.a.createElement("img",{src:V,alt:""}),c.a.createElement("button",{className:Be()("button","button-danger"),disabled:z,onClick:function(){B(null),U("")}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")):c.a.createElement("div",ie({maxFiles:1,className:Be()("dropzone",Ur.a.imageDrop,(t={},Object(Le.a)(t,Ur.a.rejectImageDrop,pe),Object(Le.a)(t,Ur.a.activeImageDrop,me),t))}),c.a.createElement("input",se()),c.a.createElement("p",null,"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u044e\u0434\u0430")),Z.cover&&c.a.createElement("div",{className:Ur.a.imageError},Z.cover),c.a.createElement(Va,{maxLength:15e3,length:h.trim().length,className:Ur.a.row},c.a.createElement(er,{className:Ur.a.editor,value:N,onChange:function(e,t){k(e),D(t)},error:Z.content})),c.a.createElement("div",{className:Ur.a.actions},c.a.createElement("div",{className:Ur.a.actionsLeft},c.a.createElement("button",{disabled:z,onClick:de,className:Be()("button","button-primary")},n?"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),c.a.createElement("div",{className:Ur.a.public},c.a.createElement(xn.a,{checked:!I,id:"draft",onChange:function(e){T(!e.target.checked)}}),c.a.createElement("span",null,"\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439"))),n&&c.a.createElement("div",{className:Ur.a.actionsRight},c.a.createElement("button",{disabled:z,onClick:o,className:Be()("button","button-secondary")},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),c.a.createElement("button",{disabled:z,onClick:function(){n&&ee(n)},className:Be()("button","button-danger")},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),$&&c.a.createElement(ir,{text:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",ok:Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t($.id);case 2:ae({type:A.LOAD_PROJECT_ACTION,payload:null}),te.replace("/");case 4:case"end":return e.stop()}}),e)}))),cancel:function(){return ee(null)},okText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430"}))}var Jr=a(136),Zr=a.n(Jr);function Yr(){var e=Se().user,t=Object(l.b)(),a=Object(_.f)();return Object(r.useEffect)((function(){e||(t({type:n.LOGIN_VISIBILITY_ACTION,payload:!0}),a.replace("/"))}),[e]),c.a.createElement("div",{className:Be()("content",Zr.a.wrapper)},c.a.createElement("div",{className:Zr.a.title},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"),c.a.createElement(Wr,{className:Zr.a.form,onSave:function(e){a.push("/project/".concat(e.id))}}))}var Gr=a(50),qr=a.n(Gr);function zr(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),a=t[0],u=t[1],o=Object(l.b)(),i=Se().user,s=Object(l.c)((function(e){return e.project})).projects,m=Object(_.f)(),p=Object(r.useState)(0),d=Object(O.a)(p,2),f=d[0],b=d[1],h=Object(r.useState)(0),D=Object(O.a)(h,2),y=D[0],w=D[1],N=Object(r.useState)(-1),k=Object(O.a)(N,2),x=k[0],F=k[1],I=Object(r.useState)(!1),T=Object(O.a)(I,2),S=T[0],P=T[1];return Object(r.useEffect)((function(){b(0)}),[x]),Object(r.useEffect)((function(){if(i){var e=null;return function(){var t=Object(v.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!1),t.prev=1,e=Kt(x,y,f),t.next=5,e;case 5:a=t.sent,n=a.data,o({type:A.LOAD_PROJECTS_ACTION,payload:n}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0),o({type:A.LOAD_PROJECTS_ACTION,payload:[]});case 14:e=null,u(!0);case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}()(),function(){e&&e.cancel(),o({type:A.LOAD_PROJECTS_ACTION,payload:[]})}}m.replace("/")}),[i,y,x,f]),c.a.createElement("div",{className:Be()(qr.a.wrapper,"content")},c.a.createElement(C.a,null,c.a.createElement("title",null,"Projects & protocols repository: \u041c\u043e\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u044b")),c.a.createElement("div",{className:qr.a.navigation},c.a.createElement("span",{className:Be()(Object(Le.a)({},qr.a.active,0===y)),onClick:function(){return w(0)}},"\u041c\u043e\u0438"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},qr.a.active,1===y)),onClick:function(){return w(1)}},"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044e"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},qr.a.active,2===y)),onClick:function(){return w(2)}},"\u0421\u043b\u0435\u0436\u0443")),c.a.createElement("div",{className:qr.a.navigation},c.a.createElement("span",{className:Be()(Object(Le.a)({},qr.a.active,-1===x)),onClick:function(){return F(-1)}},"\u0412\u0441\u0435"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},qr.a.active,1===x)),onClick:function(){return F(1)}},"\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u044b"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},qr.a.active,0===x)),onClick:function(){return F(0)}},"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},qr.a.active,2===x)),onClick:function(){return F(2)}},"\u041e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f")),a?c.a.createElement("div",{className:qr.a.content},c.a.createElement(Gt,{projects:s,hasMore:s.length>=8*(f+1),disabled:S,onMoreLoad:Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,Kt(x,y,f+1);case 4:t=e.sent,a=t.data,b(f+1),o({type:A.LOAD_PROJECTS_ACTION,payload:[].concat(Object(j.a)(s),Object(j.a)(a))}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:P(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),onLike:function(){var e=Object(v.a)(E.a.mark((function e(t){var a,r,c,u,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=3;break}return o({type:n.LOGIN_VISIBILITY_ACTION,payload:!0}),e.abrupt("return");case 3:return e.prev=3,e.next=6,aa(t.id);case 6:a=e.sent,r=a.data,c=r.count,u=r.liked,l=s.indexOf(t),s[l]=Object(g.a)(Object(g.a)({},t),{},{likesCount:c,liked:u}),o({type:A.LOAD_PROJECTS_ACTION,payload:Object(j.a)(s)}),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(3);case 17:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}()})):c.a.createElement("div",{className:"spinner overlay-spinner"}))}var Kr,Qr=a(233),Xr=a.n(Qr),$r=a(137),ec=a.n($r);function tc(e){var t=e.user,a=e.className;return c.a.createElement("div",{className:Be()(ec.a.user,Object(Le.a)({},a,!!a))},c.a.createElement(d.b,{className:ec.a.cover,to:"/users/".concat(t.id),style:t.cover?{backgroundImage:"url(".concat(t.cover.startsWith("images/")?"".concat(P,"/").concat(t.cover):t.cover,")")}:void 0}),c.a.createElement(d.b,{className:ec.a.name,to:"/users/".concat(t.id)},t.name))}function ac(){return(ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function nc(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var rc,cc,uc=function(e){var t=e.svgRef,a=e.title,n=nc(e,["svgRef","title"]);return c.a.createElement("svg",ac({width:15,height:12,viewBox:"0 0 15 12",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,Kr||(Kr=c.a.createElement("path",{d:"M0 11.125C0 11.3571 0.0921872 11.5796 0.256282 11.7437C0.420376 11.9078 0.642936 12 0.875 12H14.125C14.3571 12 14.5796 11.9078 14.7437 11.7437C14.9078 11.5796 15 11.3571 15 11.125V4.5H0V11.125ZM15 1.875C15 1.64294 14.9078 1.42038 14.7437 1.25628C14.5796 1.09219 14.3571 1 14.125 1H6.15125L4.65125 0H0.875C0.642936 0 0.420376 0.0921873 0.256282 0.256282C0.0921872 0.420376 0 0.642936 0 0.875V3.5H15V1.875Z",fill:"black"})))},oc=c.a.forwardRef((function(e,t){return c.a.createElement(uc,ac({svgRef:t},e))}));a.p;function lc(){return(lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ic(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var sc,mc=function(e){var t=e.svgRef,a=e.title,n=ic(e,["svgRef","title"]);return c.a.createElement("svg",lc({width:12,height:15,viewBox:"0 0 12 15",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,rc||(rc=c.a.createElement("path",{d:"M5.35714 6.16071V0H0.401786C0.295226 0 0.19303 0.0423308 0.11768 0.11768C0.0423308 0.19303 0 0.295226 0 0.401786V14.5982C0 14.7048 0.0423308 14.807 0.11768 14.8823C0.19303 14.9577 0.295226 15 0.401786 15H11.3839C11.4905 15 11.5927 14.9577 11.668 14.8823C11.7434 14.807 11.7857 14.7048 11.7857 14.5982V6.42857H5.625C5.55396 6.42857 5.48583 6.40035 5.4356 6.35012C5.38536 6.29988 5.35714 6.23175 5.35714 6.16071Z",fill:"black"})),cc||(cc=c.a.createElement("path",{d:"M6.42857 0.324442V5.22321C6.42857 5.25873 6.44268 5.2928 6.4678 5.31792C6.49291 5.34303 6.52698 5.35714 6.5625 5.35714H11.4613C11.4745 5.35715 11.4874 5.35324 11.4985 5.34591C11.5095 5.33857 11.5181 5.32814 11.5231 5.31592C11.5282 5.30371 11.5296 5.29026 11.527 5.27727C11.5245 5.26429 11.5181 5.25235 11.5088 5.24297L6.54275 0.276897C6.53336 0.267569 6.52142 0.26123 6.50844 0.25868C6.49546 0.25613 6.48201 0.257484 6.46979 0.26257C6.45758 0.267657 6.44714 0.276248 6.43981 0.28726C6.43247 0.298272 6.42856 0.31121 6.42857 0.324442Z",fill:"black"})))},pc=c.a.forwardRef((function(e,t){return c.a.createElement(mc,lc({svgRef:t},e))}));a.p;function dc(){return(dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function fc(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var bc,Ec,vc,Oc=function(e){var t=e.svgRef,a=e.title,n=fc(e,["svgRef","title"]);return c.a.createElement("svg",dc({width:18,height:17,viewBox:"0 0 18 17",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,sc||(sc=c.a.createElement("path",{d:"M8.52447 0.463525C8.67415 0.00287008 9.32585 0.00287008 9.47553 0.463525L11.1329 5.56434C11.1998 5.77035 11.3918 5.90983 11.6084 5.90983H16.9717C17.4561 5.90983 17.6575 6.52964 17.2656 6.81434L12.9266 9.96681C12.7514 10.0941 12.678 10.3198 12.745 10.5258L14.4023 15.6266C14.552 16.0873 14.0248 16.4704 13.6329 16.1857L9.29389 13.0332C9.11865 12.9059 8.88135 12.9059 8.70611 13.0332L4.3671 16.1857C3.97524 16.4704 3.448 16.0873 3.59768 15.6266L5.25503 10.5258C5.32197 10.3198 5.24864 10.0941 5.07339 9.96681L0.734384 6.81434C0.342527 6.52964 0.543915 5.90983 1.02828 5.90983H6.39159C6.6082 5.90983 6.80018 5.77035 6.86712 5.56434L8.52447 0.463525Z",fill:"#E10000"})))},_c=c.a.forwardRef((function(e,t){return c.a.createElement(Oc,dc({svgRef:t},e))})),Cc=(a.p,a(46)),jc=a.n(Cc);function gc(e){var t=e.project,a=e.pages,n=e.canEdit,u=e.onAdd,o=(e.relative,Object(r.useMemo)((function(){return function e(t,a,n){return kn()(t||[],["id"]).map((function(t){return{id:t.id,name:t.name,draft:t.draft,type:bc.Page,to:"/project/".concat(a.id,"/").concat(t.id),important:t.important,onAdd:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n(t.id)})),children:e(t.children,a,n),content:t.content}}))}(a,t,u)}),[t,a]));return c.a.createElement("div",{className:jc.a.wrapper},c.a.createElement(hc,{name:t.name,className:jc.a.rootRow,type:bc.Directory,to:"/project/".concat(t.id),important:!1,children:o,onAdd:u,canEdit:n,draft:t.draft,level:1}),!a||0===a.length&&n?c.a.createElement("div",null,c.a.createElement("span",{className:jc.a.emptyAdd,onClick:function(){return u&&u()}},"Add page")):null)}function hc(e){e.content;var t,a=e.id,n=e.className,r=e.important,u=e.type,o=e.name,l=e.to,i=e.children,s=e.canEdit,m=e.onAdd,p=e.level,f=e.draft,b=u===bc.Deleted;return c.a.createElement("div",{key:a,className:Be()(jc.a.row,Object(Le.a)({},n,!!n))},c.a.createElement("div",{className:jc.a.rowName},c.a.createElement(d.c,{activeClassName:jc.a.activeLink,className:Be()(jc.a.rowLink,(t={},Object(Le.a)(t,jc.a.rowUnpublished,!!f),Object(Le.a)(t,jc.a.rowDeleted,b),t)),to:l},u===bc.Directory?c.a.createElement(oc,null):c.a.createElement(pc,null),c.a.createElement("span",null,r&&c.a.createElement(_c,{className:jc.a.importantIcon}),o,f?" (".concat(1===p?"\u041d\u0435\u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439":"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a",")"):null)),!b&&p<5&&s&&c.a.createElement("span",{onClick:function(){return m&&m()},className:jc.a.addIcon},"+")),i&&i.length>0&&c.a.createElement("div",{className:jc.a.rowContent},i.map((function(e,t){return c.a.createElement(hc,Object.assign({},e,{level:p+1,canEdit:s}))}))))}function Dc(){return(Dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function yc(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}!function(e){e[e.Directory=1]="Directory",e[e.Published=2]="Published",e[e.Unpublished=3]="Unpublished",e[e.Deleted=4]="Deleted",e[e.Page=5]="Page"}(bc||(bc={}));var wc,Ac,Nc,kc=function(e){var t=e.svgRef,a=e.title,n=yc(e,["svgRef","title"]);return c.a.createElement("svg",Dc({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,Ec||(Ec=c.a.createElement("rect",{width:24,height:24,fill:"url(#pattern0)"})),vc||(vc=c.a.createElement("defs",null,c.a.createElement("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:1,height:1},c.a.createElement("use",{xlinkHref:"#image0",transform:"scale(0.02)"})),c.a.createElement("image",{id:"image0",width:50,height:50,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABCElEQVRoge3VMU7DMBSA4U+IORLH6QALC9dg4xCIU9BDcAo2usBJ2EBsSGUhUoc4Ka2D86r3S1YGR1Y+OYnJsixaHR5/r2HrsMEWr7ho+ziHtYvoRzjMECIcZgwRCrPCl3HIFi8C/AAu8WkaE2JnwmE63Bbmru33mq3nf8zxdj/sh8I9UzvT/FsZ+juVMFeGMYtE/BWzaMS+mBCIftwX1lgJhJjamWYdglgc5hhEP0rnzL9VA9H85E6ERNSrBiLUYZeIOUuERNQrERJRr5NAwJMTQMCzQIizGdbc4AYfM6xdrDakCYK6kGYI6kGaIqgDaY7geMgiEHA+MveG75H5d9xZACLLsixePyADtt5Y47hVAAAAAElFTkSuQmCC"}))))},xc=c.a.forwardRef((function(e,t){return c.a.createElement(kc,Dc({svgRef:t},e))}));a.p;function Fc(){return(Fc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ic(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Tc,Sc,Pc,Lc=function(e){var t=e.svgRef,a=e.title,n=Ic(e,["svgRef","title"]);return c.a.createElement("svg",Fc({width:15,height:15,viewBox:"0 0 15 15",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,wc||(wc=c.a.createElement("rect",{width:15,height:15,rx:2,fill:"currentColor"})),Ac||(Ac=c.a.createElement("rect",{x:3,y:7.5,width:1,height:6,rx:.5,transform:"rotate(-30 3 7.5)",fill:"white"})),Nc||(Nc=c.a.createElement("rect",{x:10.8735,y:3,width:1,height:10.6905,rx:.5,transform:"rotate(30 10.8735 3)",fill:"white"})))},Rc=c.a.forwardRef((function(e,t){return c.a.createElement(Lc,Fc({svgRef:t},e))}));a.p;function Bc(){return(Bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Mc(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Hc=function(e){var t=e.svgRef,a=e.title,n=Mc(e,["svgRef","title"]);return c.a.createElement("svg",Bc({width:15,height:15,viewBox:"0 0 15 15",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,Tc||(Tc=c.a.createElement("rect",{width:15,height:15,rx:2,fill:"#E10000"})),Sc||(Sc=c.a.createElement("rect",{x:3,y:3.70703,width:1,height:12,rx:.5,transform:"rotate(-45 3 3.70703)",fill:"white"})),Pc||(Pc=c.a.createElement("rect",{x:11.7783,y:3,width:1,height:12,rx:.5,transform:"rotate(45 11.7783 3)",fill:"white"})))},Vc=c.a.forwardRef((function(e,t){return c.a.createElement(Hc,Bc({svgRef:t},e))})),Uc=(a.p,a(16)),Wc=a.n(Uc);function Jc(){var e=Object(l.c)((function(e){return e.project})),t=e.project,a=e.projectUsers,u=Se().user,o=Object(l.b)(),i=Object(_.f)(),s=!(!u||u.id!==t.user.id&&!u.isAdmin),m=Object(r.useState)(!1),p=Object(O.a)(m,2),f=p[0],b=p[1],C=Object(r.useState)(0),h=Object(O.a)(C,2),D=h[0],y=h[1],w=Object(r.useState)(0),N=Object(O.a)(w,2),k=N[0],x=N[1],F=Object(r.useMemo)((function(){return t.pages?t.pages.filter((function(e){return!e.draft&&e.important})).map((function(e){return Object(g.a)(Object(g.a)({},e),{},{image:Sr(e.content,"img","src")})})):[]}),[t.pages]);Object(r.useEffect)((function(){x(0)}),[f]);var I=t.content,T=t.id,S=a,L=Object(r.useMemo)((function(){var e,a=null===t||void 0===t||null===(e=t.pages)||void 0===e?void 0:e.map((function(e){return{id:e.id,name:e.name,parentId:e.parentId,important:e.important,draft:!!e.draft,children:[],content:e.content}}));if(a)return a.forEach((function(e){if(e.parentId){var t=a.find((function(t){return t.id===e.parentId}));null===t||void 0===t||t.children.push(e)}})),a.filter((function(e){return!e.parentId}))}),[null===t||void 0===t?void 0:t.pages]),R=Object(r.useCallback)((function(e){o({type:A.LOAD_PROJECT_USERS_ACTION,payload:e})}),[]),B=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(t.id,!0);case 2:o({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},t),{},{following:!0})}),R(Object(g.a)(Object(g.a)({},S),{},{followers:[u].concat(Object(j.a)(S.followers))}));case 4:case"end":return e.stop()}}),e)}))),[t,S,u]),M=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(t.id,!1);case 2:o({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},t),{},{following:!1})}),R(Object(g.a)(Object(g.a)({},S),{},{followers:S.followers.filter((function(e){return u.id!==e.id}))}));case 4:case"end":return e.stop()}}),e)}))),[t,S,u]),H=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa(t.id,!0);case 2:o({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},t),{},{requested:!0})});case 3:case"end":return e.stop()}}),e)}))),[t]),V=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa(t.id,!1);case 2:o({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},t),{},{requested:!1})});case 3:case"end":return e.stop()}}),e)}))),[t]),U=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(t.id);case 2:o({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},t),{},{participate:!1})}),R(Object(g.a)(Object(g.a)({},S),{},{users:S.users.filter((function(e){return u.id!==e.id}))}));case 4:case"end":return e.stop()}}),e)}))),[t,S,u]);return c.a.createElement("div",{className:Wc.a.wrapper},c.a.createElement("div",{className:Wc.a.title},c.a.createElement(d.b,{to:"/project/".concat(t.id)},t.name,t.draft?" (\u043d\u0435\u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439)":"")),c.a.createElement("div",{className:Wc.a.type}),s&&c.a.createElement(c.a.Fragment,null,c.a.createElement(d.b,{className:Wc.a.edit,to:"/project/".concat(t.id,"/edit")},c.a.createElement(xc,null))),c.a.createElement("div",{className:Wc.a.info},c.a.createElement("div",{className:Wc.a.text},c.a.createElement("img",{className:Wc.a.cover,alt:t.name,src:"".concat(P,"/").concat(t.cover.startsWith("images/")?t.cover:"images/".concat(t.cover))}),c.a.createElement("div",{className:Wc.a.menu},c.a.createElement(gc,{project:t,pages:L,relative:!0,canEdit:null!==u&&(u.id===t.user.id||a&&-1!==a.users.findIndex((function(e){return e.id===u.id}))),onAdd:function(){var e=Object(v.a)(E.a.mark((function e(a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(t.id,a);case 2:return n=e.sent,r=n.data,e.next=6,o({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},t),{},{pages:[].concat(Object(j.a)(t.pages||[]),[r])})});case 6:i.push("/project/".concat(t.id,"/").concat(r.id,"/edit"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),c.a.createElement("div",{className:Wc.a.center},c.a.createElement("div",{className:Wc.a.likes},c.a.createElement("div",{className:Be()(Wc.a.likes,Object(Le.a)({},Wc.a.liked,t.liked)),onClick:Object(v.a)(E.a.mark((function e(){var a,r,c,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}return o({type:n.LOGIN_VISIBILITY_ACTION,payload:!0}),e.abrupt("return");case 3:return e.prev=3,e.next=6,aa(t.id);case 6:a=e.sent,r=a.data,c=r.count,l=r.liked,o({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},t),{},{likesCount:c,liked:l})}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(3);case 15:case"end":return e.stop()}}),e,null,[[3,13]])})))},c.a.createElement(Rt,null),c.a.createElement("span",null,t.likesCount))),c.a.createElement("div",{className:Wc.a.centerRight},c.a.createElement("div",{className:Wc.a.created},Ft.a.utc(t.created).local().format("DD.MM.YYYY")),t.user&&c.a.createElement("div",{className:Wc.a.user},c.a.createElement(d.b,{to:"/users/".concat(t.user.id)},t.user.name)))),c.a.createElement("div",{className:Wc.a.users},u&&!s&&c.a.createElement("div",{className:Wc.a.actions},t.following?c.a.createElement("button",{className:Be()("button","button-primary"),onClick:M},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):c.a.createElement("button",{className:Be()("button","button-primary"),onClick:B},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),t.participate?c.a.createElement("button",{className:Be()("button","button-primary"),onClick:U},"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c"):t.requested?c.a.createElement("button",{className:Be()("button","button-primary"),onClick:V},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"):c.a.createElement("button",{className:Be()("button","button-primary"),onClick:H},"\u0423\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c")),S&&c.a.createElement("div",{className:Wc.a.users},c.a.createElement("div",{className:Wc.a.usersTitle},c.a.createElement("span",{className:Be()(Object(Le.a)({},Wc.a.selectedUsers,0===D)),onClick:function(){return y(0)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},Wc.a.selectedUsers,1===D)),onClick:function(){return y(1)}},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),0===D&&c.a.createElement("div",null,S.followers.length>0?c.a.createElement("div",null,S.followers.slice(0,8).map((function(e){return c.a.createElement(tc,{key:e.id,user:e})}))):c.a.createElement("div",null,"\u041d\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432")),1===D&&c.a.createElement("div",null,S.users.length>0?c.a.createElement("div",null,S.users.slice(0,8).map((function(e){return c.a.createElement(tc,{key:e.id,user:e})}))):c.a.createElement("div",null,"\u041d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"))),c.a.createElement("div",{className:Wc.a.adminActions},c.a.createElement("button",{className:Be()("button","button-primary"),onClick:function(){return b(!0)}},s?"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"))),c.a.createElement("div",{className:Be()("text-content",Wc.a.text),dangerouslySetInnerHTML:{__html:I}}),F.length>0&&c.a.createElement("div",{className:Wc.a.important},c.a.createElement("div",{className:Wc.a.importantTitle},"\u0412\u0430\u0436\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b:"),c.a.createElement("div",{className:Wc.a.importantList},kn()(F,["id"]).map((function(e){return c.a.createElement("div",{className:Wc.a.importantPage,key:e.id},c.a.createElement(d.b,{to:"/project/".concat(t.id,"/").concat(e.id)},c.a.createElement("div",{className:Wc.a.importantPageImage,style:{backgroundImage:e.image?"url(".concat(e.image.startsWith("images/")?"".concat(P,"/").concat(e.image):e.image,")"):void 0}}),e.name))})))))),c.a.createElement(wr,{count:t.commentsCount,projectId:T}),f&&c.a.createElement(La,{width:500,onClose:function(){return b(!1)}},c.a.createElement("div",{className:Wc.a.popUpUserList},c.a.createElement("div",{className:Wc.a.usersTitle},c.a.createElement("span",{className:Be()(Object(Le.a)({},Wc.a.selectedUsers,0===k)),onClick:function(){return x(0)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},Wc.a.selectedUsers,1===k)),onClick:function(){return x(1)}},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"),s&&c.a.createElement(c.a.Fragment,null,c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},Wc.a.selectedUsers,2===k)),onClick:function(){return x(2)}},"\u0417\u0430\u044f\u0432\u043a\u0438"))),0===k&&c.a.createElement("div",null,S.followers.length>0?c.a.createElement("div",null,S.followers.map((function(e){return c.a.createElement("div",{key:e.id,className:Wc.a.popupUser},s&&c.a.createElement("div",{className:Wc.a.popupAdminActions},c.a.createElement(Vc,{onClick:Object(v.a)(E.a.mark((function a(){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_a(t.id,e.id);case 3:a.next=7;break;case 5:a.prev=5,a.t0=a.catch(0);case 7:R(Object(g.a)(Object(g.a)({},S),{},{followers:S.followers.filter((function(e){return u!=e}))}));case 8:case"end":return a.stop()}}),a,null,[[0,5]])})))})),c.a.createElement(tc,{user:e}))}))):c.a.createElement("div",null,"\u041d\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432")),1===k&&c.a.createElement("div",null,S.users.length>0?c.a.createElement("div",null,S.users.map((function(e){return c.a.createElement("div",{key:e.id,className:Wc.a.popupUser},s&&c.a.createElement("div",{className:Wc.a.popupAdminActions},c.a.createElement(Vc,{onClick:Object(v.a)(E.a.mark((function a(){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Oa(t.id,e.id);case 3:a.next=7;break;case 5:a.prev=5,a.t0=a.catch(0);case 7:R(Object(g.a)(Object(g.a)({},S),{},{followers:S.followers.filter((function(e){return u!==e}))}));case 8:case"end":return a.stop()}}),a,null,[[0,5]])})))})),c.a.createElement(tc,{user:e}))}))):c.a.createElement("div",null,"\u041d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),2===k&&c.a.createElement("div",null,S.requests.length>0?c.a.createElement("div",null,S.requests.map((function(e){return c.a.createElement("div",{key:e.id,className:Wc.a.popupUser},c.a.createElement("div",{className:Wc.a.popupAdminActions},c.a.createElement(Rc,{onClick:Object(v.a)(E.a.mark((function a(){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ea(t.id,e.id);case 3:R(Object(g.a)(Object(g.a)({},S),{},{users:[u].concat(Object(j.a)(S.users)),requests:S.requests.filter((function(e){return u!==e}))})),a.next=8;break;case 6:a.prev=6,a.t0=a.catch(0);case 8:case"end":return a.stop()}}),a,null,[[0,6]])})))}),c.a.createElement(Vc,{onClick:Object(v.a)(E.a.mark((function a(){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,va(t.id,e.id);case 3:R(Object(g.a)(Object(g.a)({},S),{},{requests:S.requests.filter((function(e){return u!==e}))})),a.next=8;break;case 6:a.prev=6,a.t0=a.catch(0);case 8:case"end":return a.stop()}}),a,null,[[0,6]])})))})),c.a.createElement(tc,{user:e}))}))):c.a.createElement("div",null,"\u041d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")))))}var Zc=a(232),Yc=a.n(Zc);function Gc(){var e=Se().user,t=Object(l.c)((function(e){return e.project})).project,a=Object(l.b)(),u=Object(_.f)();return Object(r.useEffect)((function(){e?t.user.id!==e.id&&u.replace("/project/".concat(t.id)):(a({type:n.LOGIN_VISIBILITY_ACTION,payload:!0}),u.replace("/"))}),[e]),c.a.createElement(Wr,{className:Yc.a.form,project:t,onSave:function(e){a({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},e),{},{pages:t.pages})}),u.push("/project/".concat(t.id))},onCancel:function(){u.push("/project/".concat(t.id))}})}var qc=a(104),zc=a.n(qc),Kc=a(54),Qc=a.n(Kc);function Xc(){var e=Object(l.c)((function(e){return e.project})),t=e.page,a=e.project,n=e.projectUsers,u=Se().user,o=Object(l.b)(),i=Object(_.f)(),s=t.content,m=Object(r.useMemo)((function(){var e,t=null===a||void 0===a||null===(e=a.pages)||void 0===e?void 0:e.map((function(e){return{id:e.id,name:e.name,parentId:e.parentId,important:e.important,draft:!!e.draft,children:[],content:e.content}}));if(t)return t.forEach((function(e){if(e.parentId){var a=t.find((function(t){return t.id===e.parentId}));null===a||void 0===a||a.children.push(e)}})),t.filter((function(e){return!e.parentId}))}),[null===a||void 0===a?void 0:a.pages]),p=null!==u&&(u.id===a.user.id||n&&-1!==n.users.findIndex((function(e){return e.id===u.id})));return c.a.createElement("div",{className:Be()(Qc.a.wrapper,Object(Le.a)({},Qc.a.draft,t.draft))},p&&c.a.createElement(c.a.Fragment,null,c.a.createElement(d.b,{className:Qc.a.edit,to:"/project/".concat(a.id,"/").concat(t.id,"/edit")},c.a.createElement(xc,null))),c.a.createElement("div",{className:Qc.a.name},t.important&&c.a.createElement(_c,null)," ",t.name),c.a.createElement("div",{className:Qc.a.menu},c.a.createElement(gc,{project:a,pages:m,relative:!0,canEdit:null!==u&&(u.id===a.user.id||n&&-1!==n.users.findIndex((function(e){return e.id===u.id}))),onAdd:function(){var e=Object(v.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(a.id,t);case 2:return n=e.sent,r=n.data,e.next=6,o({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},a),{},{pages:[].concat(Object(j.a)(a.pages||[]),[r])})});case 6:i.push("/project/".concat(a.id,"/").concat(r.id,"/edit"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),c.a.createElement("div",{className:Be()("text-content",Qc.a.content),dangerouslySetInnerHTML:{__html:s}}),t.files&&t.files.length>0&&c.a.createElement("div",{className:Qc.a.files},c.a.createElement("div",{className:Qc.a.filesTitle},"\u0424\u0430\u0439\u043b\u044b:"),c.a.createElement("div",{className:Qc.a.filesList},t.files.map((function(e){return c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(P,"/").concat(e.path),className:Qc.a.file,key:e.name,title:e.name},c.a.createElement(zc.a,null),c.a.createElement("span",null,e.name))})))),c.a.createElement(wr,{count:t.commentsCount,projectId:a.id,pageId:t.id}))}var $c=a(26),eu=a.n($c);function tu(){var e,t=Object(l.c)((function(e){return e.project})),a=t.page,n=t.project,u=t.projectUsers,o=Object(r.useState)(""),i=Object(O.a)(o,2),s=i[0],m=i[1],p=Se().user,d=Object(r.useState)(!1),f=Object(O.a)(d,2),b=f[0],C=f[1],h=Object(r.useState)({}),D=Object(O.a)(h,2),y=D[0],w=D[1],N=Object(r.useState)(!1),k=Object(O.a)(N,2),x=k[0],F=k[1],I=Object(r.useState)(!1),T=Object(O.a)(I,2),S=T[0],P=T[1],L=Object(r.useState)(null),R=Object(O.a)(L,2),B=R[0],M=R[1],H=Object(r.useState)(null),V=Object(O.a)(H,2),U=V[0],W=V[1],Z=Object(r.useState)(!1),Y=Object(O.a)(Z,2),G=Y[0],q=Y[1],z=Object(r.useState)([]),K=Object(O.a)(z,2),Q=K[0],X=K[1],$=Object(r.useState)([]),ee=Object(O.a)($,2),te=ee[0],ae=ee[1],ne=Object(_.f)(),re=Object(l.b)(),ce=Object(r.useState)(!1),ue=Object(O.a)(ce,2),oe=ue[0],le=ue[1],ie=Object(r.useState)(null),se=Object(O.a)(ie,2),me=se[0],pe=se[1],de=Object(r.useState)(""),fe=Object(O.a)(de,2),be=fe[0],Ee=fe[1],ve=null!==p&&p.id===n.user.id,Oe=null!==p&&(p.id===n.user.id||u&&-1!==u.users.findIndex((function(e){return e.id===p.id})));Object(r.useEffect)((function(){if(a)if(Oe){m(a.name||""),F(!!a.important),P(!a.draft),X(a.files||[]);try{W(JSON.parse(a.data||"{}"))}catch(e){W({})}M(a.content||"")}else ne.replace("/project/".concat(n.id,"/").concat(a.id))}),[a,p,Oe]),Object(r.useEffect)((function(){n&&a&&(oe?function(){var e=Object(v.a)(E.a.mark((function e(){var t,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=n.id,u=a.id,J("projects/".concat(c,"/pages/").concat(u,"/drafts"),"get");case 2:t=e.sent,(r=t.data.drafts).length?pe(r[0].content||""):pe("");case 5:case"end":return e.stop()}var c,u}),e)})));return function(){return e.apply(this,arguments)}}()():pe(null))}),[oe,n,a]),Object(r.useEffect)((function(){if(a&&ve){var e,t=function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ee("\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=!1;return function(){var r=Object(v.a)(E.a.mark((function r(){return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,gr();case 2:e=r.sent,!n&&e&&e.on("PageEdit:".concat(a.id),t);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()(),function(){n=!0,e&&(e.off("PageEdit:".concat(a.id),t),e=void 0)}}}),[a,ve]);var _e=Object(Pr.a)(),Ce=_e.acceptedFiles,je=_e.getRootProps,ge=_e.getInputProps,he=_e.isDragAccept,De=_e.isDragReject;if(Object(r.useEffect)((function(){Ce.length>0&&ae([].concat(Object(j.a)(te),Object(j.a)(Ce)))}),[Ce.length]),null===B)return null;var ye=function(){var e=Object(v.a)(E.a.mark((function e(){var t,r,c,u,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},0===s.trim().length?t.name="Can't be empty":s.trim().length>120&&(t.name="Too long"),B.trim().length>15e3&&(t.content="Too long"),0===B.trim().length?t.content="Can't be empty":B.trim().length>15e3&&(t.content="Too long"),w(t),0!==Object.keys(t).length){e.next=25;break}return q(!0),e.prev=7,e.next=10,oa(Object(g.a)(Object(g.a)({},a),{},{name:s,content:B||"",files:Q,important:x,draft:!S}),U,te);case 10:return r=e.sent,c=r.data,e.next=14,na(n.id);case 14:u=e.sent,o=u.data,re({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},n),{},{pages:o})}),ne.push("/project/".concat(n.id,"/").concat(a.id)),re({type:A.LOAD_PAGE_ACTION,payload:c}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),console.error(e.t0);case 24:q(!1);case 25:case"end":return e.stop()}}),e,null,[[7,21]])})));return function(){return e.apply(this,arguments)}}();return a?c.a.createElement("div",{className:eu.a.wrapper},c.a.createElement("div",{className:eu.a.checkboxes},c.a.createElement("div",{className:eu.a.checkbox},c.a.createElement(xn.a,{checked:x,id:"important",onChange:function(e){F(e.target.checked)}}),c.a.createElement("span",null,"\u0412\u0430\u0436\u043d\u043e\u0435")),c.a.createElement("div",{className:eu.a.checkbox},c.a.createElement(xn.a,{checked:S,id:"published",onChange:function(e){P(e.target.checked)}}),c.a.createElement("span",null,"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"))),c.a.createElement(Va,{maxLength:120,length:s.trim().length,className:eu.a.row},c.a.createElement(dn,{fullWidth:!0,size:"bg",name:"name",value:s,invalid:!!y.name,invalidText:y.name,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(e){m(e.target.value)}})),c.a.createElement(Va,{maxLength:15e3,length:B.trim().length,className:eu.a.row},c.a.createElement(er,{className:eu.a.editor,value:U,onChange:function(e,t){W(e),M(t)},error:y.content})),ve&&c.a.createElement("div",{className:eu.a.displayDraft},c.a.createElement("span",{onClick:function(){return le(!0)}},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a"),c.a.createElement("span",{onClick:Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga(n.id,a.id);case 2:Ee("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e \u0432 \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a");case 3:case"end":return e.stop()}}),e)})))},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a"),c.a.createElement("span",{onClick:Object(v.a)(E.a.mark((function e(){var t,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(n.id,a.id);case 2:return e.next=4,ca(n.id,a.id);case 4:t=e.sent,r=t.data,M(null),re({type:A.LOAD_PAGE_ACTION,payload:r});case 8:case"end":return e.stop()}}),e)})))},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437 \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a\u0430")),c.a.createElement("div",null,c.a.createElement("div",{className:eu.a.filesList},Q.map((function(e){return c.a.createElement("div",{className:eu.a.file,key:e.name,title:e.name},c.a.createElement(zc.a,null),c.a.createElement("span",null,e.name),c.a.createElement(Ta,{className:eu.a.removeFile,onClick:function(){return X(Q.filter((function(t){return e!==t})))}}))})),te.map((function(e){return c.a.createElement("div",{className:eu.a.file,key:e.name,title:e.name},c.a.createElement(zc.a,null),c.a.createElement("span",null,e.name),c.a.createElement(Ta,{className:eu.a.removeFile,onClick:function(){return ae(te.filter((function(t){return e!==t})))}}))}))),c.a.createElement("div",je({maxFiles:0,className:Be()("dropzone",eu.a.imageDrop,(e={},Object(Le.a)(e,eu.a.rejectImageDrop,De),Object(Le.a)(e,eu.a.activeImageDrop,he),e))}),c.a.createElement("input",ge()),c.a.createElement("p",null,"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0441\u044e\u0434\u0430"))),c.a.createElement("div",{className:eu.a.actions},c.a.createElement("div",{className:eu.a.actionsLeft},c.a.createElement("button",{disabled:G,onClick:ye,className:Be()("button","button-primary")},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c")),n&&c.a.createElement("div",{className:eu.a.actionsRight},c.a.createElement("button",{disabled:G,onClick:function(){ne.push("/project/".concat(n.id,"/").concat(a.id))},className:Be()("button","button-secondary")},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),c.a.createElement("button",{disabled:G,onClick:function(){return C(!0)},className:Be()("button","button-danger")},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),b&&c.a.createElement(ir,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",ok:Object(v.a)(E.a.mark((function e(){var t,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(n.id,a.id);case 2:return e.next=4,na(n.id);case 4:t=e.sent,r=t.data,re({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},n),{},{pages:r})}),ne.push("/project/".concat(n.id));case 8:case"end":return e.stop()}}),e)}))),cancel:function(){return C(!1)},okText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430"}),oe&&c.a.createElement(La,{width:800,onClose:function(){return le(!1)}},c.a.createElement("div",{className:eu.a.popup},c.a.createElement("div",{className:eu.a.popupTitle},"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"),c.a.createElement("div",{className:Be()("trix-content",eu.a.popupForm),dangerouslySetInnerHTML:{__html:me}}))),be&&c.a.createElement(La,{title:be,width:320,onClose:function(){return Ee("")}})):null}function au(){var e=Object(_.h)().pageId,t=Object(_.f)(),a=Object(_.i)(),n=Object(r.useState)(!0),u=Object(O.a)(n,2),o=u[0],i=u[1],s=Object(l.b)(),m=Object(l.c)((function(e){return e.project})),p=m.project,d=m.page,f=m.projectUsers;return Object(r.useEffect)((function(){return function(){var a=Object(v.a)(E.a.mark((function a(){var n,r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i(!0),a.prev=1,a.next=4,ca(p.id,+e);case 4:n=a.sent,r=n.data,s({type:A.LOAD_PAGE_ACTION,payload:r}),i(!1),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.error(a.t0),t.replace("/project/".concat(p.id));case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(){return a.apply(this,arguments)}}()(),function(){s({type:A.LOAD_PAGE_ACTION,payload:null})}}),[e]),o||null===f?null:c.a.createElement(c.a.Fragment,null,d&&c.a.createElement(C.a,null,c.a.createElement("title",null,"Projects & protocols repository: ",p.name," - ",d.name)),c.a.createElement(_.c,null,c.a.createElement(_.a,{path:a.url,exact:!0,component:Xc}),c.a.createElement(_.a,{path:"".concat(a.url,"/edit"),exact:!0,component:tu})))}var nu=a(21),ru=a.n(nu);function cu(){var e=Object(_.h)().id,t=Object(_.f)(),a=Object(l.b)(),n=Object(_.i)(),u=Se().user,o=Object(l.c)((function(e){return e.project})),i=o.project,s=o.projectUsers,m=!(!u||!i||u.id!==i.user.id&&!u.isAdmin),p=s,d=Object(r.useState)(!1),f=Object(O.a)(d,2),b=f[0],h=f[1],D=Object(r.useState)(0),y=Object(O.a)(D,2),w=y[0],N=y[1],k=Object(r.useState)(0),x=Object(O.a)(k,2),F=x[0],I=x[1],T=Object(r.useState)(!1),S=Object(O.a)(T,2),P=S[0],L=S[1];Object(r.useEffect)((function(){h(!1)}),[null===i||void 0===i?void 0:i.id]),Object(r.useEffect)((function(){N(0)}),[b]),Object(r.useEffect)((function(){var e=function(){var e=window.scrollY;L(e>300)};return e(),document.addEventListener("scroll",e),function(){document.removeEventListener("scroll",e)}}),[]),Object(r.useEffect)((function(){return function(){var n=Object(v.a)(E.a.mark((function n(){var r,c,u;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Qt(+e);case 3:return r=n.sent,n.next=6,na(+e);case 6:c=n.sent,u=c.data,a({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},r.data),{},{pages:u})}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0),t.replace("/");case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(){return n.apply(this,arguments)}}()(),function(){a({type:A.LOAD_PROJECT_ACTION,payload:null})}}),[e,u]),Object(r.useEffect)((function(){if(i)return function(){var e=Object(v.a)(E.a.mark((function e(){var t,n,r,c,u,o,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s=i.id,J("projects/".concat(s,"/users"),"get");case 2:return t=e.sent,n=t.data,e.next=6,fa(i.id);case 6:if(r=e.sent,c=r.data,u={users:n,followers:c,requests:[]},!m){e.next=15;break}return e.next=12,ba(i.id);case 12:o=e.sent,l=o.data,u.requests=l;case 15:a({type:A.LOAD_PROJECT_USERS_ACTION,payload:u});case 16:case"end":return e.stop()}var s}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){a({type:A.LOAD_PROJECT_USERS_ACTION,payload:null})}}),[i]);var R=Object(r.useMemo)((function(){var e,t=null===i||void 0===i||null===(e=i.pages)||void 0===e?void 0:e.map((function(e){return{id:e.id,name:e.name,parentId:e.parentId,important:e.important,draft:!!e.draft,children:[],content:e.content}}));if(t)return t.forEach((function(e){if(e.parentId){var a=t.find((function(t){return t.id===e.parentId}));null===a||void 0===a||a.children.push(e)}})),t.filter((function(e){return!e.parentId}))}),[null===i||void 0===i?void 0:i.pages]),B=Object(r.useCallback)((function(e){a({type:A.LOAD_PROJECT_USERS_ACTION,payload:e})}),[]),M=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(i.id,!0);case 2:a({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},i),{},{following:!0})}),B(Object(g.a)(Object(g.a)({},p),{},{followers:[u].concat(Object(j.a)(p.followers))}));case 4:case"end":return e.stop()}}),e)}))),[i,p,u]),H=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(i.id,!1);case 2:a({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},i),{},{following:!1})}),B(Object(g.a)(Object(g.a)({},p),{},{followers:p.followers.filter((function(e){return u.id!==e.id}))}));case 4:case"end":return e.stop()}}),e)}))),[i,p,u]),V=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa(i.id,!0);case 2:a({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},i),{},{requested:!0})});case 3:case"end":return e.stop()}}),e)}))),[i]),U=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa(i.id,!1);case 2:a({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},i),{},{requested:!1})});case 3:case"end":return e.stop()}}),e)}))),[i]),W=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(i.id);case 2:a({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},i),{},{participate:!1})}),B(Object(g.a)(Object(g.a)({},p),{},{users:p.users.filter((function(e){return u.id!==e.id}))}));case 4:case"end":return e.stop()}}),e)}))),[i,p,u]);return c.a.createElement("div",{className:ru.a.wrapper},i?c.a.createElement("div",{className:Be()("content",ru.a.inner)},c.a.createElement(C.a,null,c.a.createElement("title",null,"Projects & protocols repository: ",i.name)),c.a.createElement("div",{className:ru.a.left},c.a.createElement(gc,{project:i,pages:R,canEdit:null!==u&&(u.id===i.user.id||s&&-1!==s.users.findIndex((function(e){return e.id===u.id}))),onAdd:function(){var e=Object(v.a)(E.a.mark((function e(n){var r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(i.id,n);case 2:return r=e.sent,c=r.data,e.next=6,a({type:A.LOAD_PROJECT_ACTION,payload:Object(g.a)(Object(g.a)({},i),{},{pages:[].concat(Object(j.a)(i.pages||[]),[c])})});case 6:t.push("/project/".concat(i.id,"/").concat(c.id,"/edit"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),c.a.createElement("div",{className:ru.a.center},c.a.createElement(_.c,null,c.a.createElement(_.a,{path:n.url,exact:!0,component:Jc}),c.a.createElement(_.a,{path:"".concat(n.url,"/edit"),exact:!0,component:Gc}),c.a.createElement(_.a,{path:"".concat(n.url,"/:pageId"),component:au}))),c.a.createElement("div",{className:ru.a.right},u&&!m&&c.a.createElement("div",{className:ru.a.actions},i.following?c.a.createElement("button",{className:Be()("button","button-primary"),onClick:H},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):c.a.createElement("button",{className:Be()("button","button-primary"),onClick:M},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),i.participate?c.a.createElement("button",{className:Be()("button","button-primary"),onClick:W},"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c"):i.requested?c.a.createElement("button",{className:Be()("button","button-primary"),onClick:U},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"):c.a.createElement("button",{className:Be()("button","button-primary"),onClick:V},"\u0423\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c")),p&&c.a.createElement("div",{className:ru.a.users},c.a.createElement("div",{className:ru.a.usersTitle},c.a.createElement("span",{className:Be()(Object(Le.a)({},ru.a.selectedUsers,0===F)),onClick:function(){return I(0)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},ru.a.selectedUsers,1===F)),onClick:function(){return I(1)}},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),0===F&&c.a.createElement("div",null,p.followers.length>0?c.a.createElement("div",null,p.followers.slice(0,8).map((function(e){return c.a.createElement(tc,{key:e.id,user:e})}))):c.a.createElement("div",null,"\u041d\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432")),1===F&&c.a.createElement("div",null,p.users.length>0?c.a.createElement("div",null,p.users.slice(0,8).map((function(e){return c.a.createElement(tc,{key:e.id,user:e})}))):c.a.createElement("div",null,"\u041d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"))),c.a.createElement("div",{className:ru.a.adminActions},c.a.createElement("button",{className:Be()("button","button-primary"),onClick:function(){return h(!0)}},m?"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"))),c.a.createElement("div",{onClick:function(){return window.scrollTo(0,0)},className:Be()(ru.a.arrow,Object(Le.a)({},ru.a.arrowVisible,P))},c.a.createElement(Xr.a,null),c.a.createElement("div",null,"\u041d\u0430\u0432\u0435\u0440\u0445"))):c.a.createElement("div",{className:"spinner overlay-spinner"}),b&&c.a.createElement(La,{width:500,onClose:function(){return h(!1)}},c.a.createElement("div",{className:ru.a.popUpUserList},c.a.createElement("div",{className:ru.a.usersTitle},c.a.createElement("span",{className:Be()(Object(Le.a)({},ru.a.selectedUsers,0===w)),onClick:function(){return N(0)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438"),c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},ru.a.selectedUsers,1===w)),onClick:function(){return N(1)}},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"),m&&c.a.createElement(c.a.Fragment,null,c.a.createElement("i",null,"/"),c.a.createElement("span",{className:Be()(Object(Le.a)({},ru.a.selectedUsers,2===w)),onClick:function(){return N(2)}},"\u0417\u0430\u044f\u0432\u043a\u0438"))),0===w&&c.a.createElement("div",null,p.followers.length>0?c.a.createElement("div",null,p.followers.map((function(e){return c.a.createElement("div",{key:e.id,className:ru.a.popupUser},m&&c.a.createElement("div",{className:ru.a.popupAdminActions},c.a.createElement(Vc,{onClick:Object(v.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_a(i.id,e.id);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:B(Object(g.a)(Object(g.a)({},p),{},{followers:p.followers.filter((function(e){return u!==e}))}));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))})),c.a.createElement(tc,{user:e}))}))):c.a.createElement("div",null,"\u041d\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432")),1===w&&c.a.createElement("div",null,p.users.length>0?c.a.createElement("div",null,p.users.map((function(e){return c.a.createElement("div",{key:e.id,className:ru.a.popupUser},m&&c.a.createElement("div",{className:ru.a.popupAdminActions},c.a.createElement(Vc,{onClick:Object(v.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oa(i.id,e.id);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:B(Object(g.a)(Object(g.a)({},p),{},{followers:p.followers.filter((function(e){return u!==e}))}));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))})),c.a.createElement(tc,{user:e}))}))):c.a.createElement("div",null,"\u041d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),2===w&&c.a.createElement("div",null,p.requests.length>0?c.a.createElement("div",null,p.requests.map((function(e){return c.a.createElement("div",{key:e.id,className:ru.a.popupUser},c.a.createElement("div",{className:ru.a.popupAdminActions},c.a.createElement(Rc,{onClick:Object(v.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ea(i.id,e.id);case 3:B(Object(g.a)(Object(g.a)({},p),{},{users:[u].concat(Object(j.a)(p.users)),requests:p.requests.filter((function(e){return u!=e}))})),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))}),c.a.createElement(Vc,{onClick:Object(v.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,va(i.id,e.id);case 3:B(Object(g.a)(Object(g.a)({},p),{},{requests:p.requests.filter((function(e){return u!==e}))})),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))})),c.a.createElement(tc,{user:e}))}))):c.a.createElement("div",null,"\u041d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")))))}var uu=a(239),ou=a(238),lu=a(38),iu=function(e){Object(uu.a)(a,e);var t=Object(ou.a)(a);function a(e){var n;return Object(Fe.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(Ie.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),console.error(e,t),lu.a(e)}},{key:"render",value:function(){return this.props.children}}]),a}(c.a.Component),su=a(66),mu=a.n(su);function pu(e){e.onSave,e.onClose;var t=Object(r.useState)(""),a=Object(O.a)(t,2),n=a[0],u=a[1],o=Object(r.useState)(""),i=Object(O.a)(o,2),s=i[0],m=i[1],p=Object(r.useState)({}),d=Object(O.a)(p,2),f=d[0],b=d[1],C=Object(r.useState)(""),j=Object(O.a)(C,2),g=j[0],h=j[1],D=Object(r.useState)(""),y=Object(O.a)(D,2),w=y[0],A=y[1],N=Object(r.useState)(!1),k=Object(O.a)(N,2),x=(k[0],k[1]),F=(Object(l.b)(),Object(r.useState)(!1)),I=Object(O.a)(F,2),T=I[0],S=I[1],P=Se().user,L=Object(_.f)(),R=Object(_.g)();return Object(r.useEffect)((function(){(function(){var e=Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=3;break}return L.replace("/"),e.abrupt("return");case 3:if(t=new URLSearchParams(R.search),a=t.get("token")){e.next=8;break}return L.replace("/"),e.abrupt("return");case 8:return e.prev=8,e.next=11,oe(a);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(8),L.replace("/"),e.abrupt("return");case 17:A(a);case 18:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(){return e.apply(this,arguments)}})()()}),[P]),c.a.createElement("div",{className:mu.a.wrapper},T?c.a.createElement("div",{className:mu.a.success},c.a.createElement("div",null,"\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d.")):c.a.createElement("div",{className:mu.a.content},c.a.createElement("div",{className:mu.a.title},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),c.a.createElement("div",{className:mu.a.form},c.a.createElement(Va,{maxLength:20,length:s.trim().length},c.a.createElement(dn,{type:"password",name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",size:"bg",fullWidth:!0,value:s,invalid:!!f.password,invalidText:f.password,onChange:function(e){m(e.target.value.trim())}}),c.a.createElement("div",{className:mu.a.passwordHelp},"\u0411\u0435\u0437 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432, 8-20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")),c.a.createElement(Va,{maxLength:20,length:n.trim().length},c.a.createElement(dn,{fullWidth:!0,size:"bg",type:"password",label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"repeat-password",value:n,invalid:!!f.repeatPassword,invalidText:f.repeatPassword,onChange:function(e){u(e.target.value.trim())}})),g&&c.a.createElement("div",{className:mu.a.error},g),c.a.createElement("div",{className:mu.a.actions},c.a.createElement("button",{className:Be()("button","button-primary"),onClick:Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(""),t={},(s.trim().length<8||s.trim().length>20)&&(t.password="\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),s.trim()!==n.trim()&&(t.repeatPassword="\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),b(t),0!==Object.keys(t).length){e.next=19;break}return x(!0),e.prev=7,e.next=10,ie(s,w);case 10:a=e.sent,200===a.status&&S(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),h("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u0437\u0436\u0435");case 18:x(!1);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})))},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))}var du=a(235),fu=a.n(du);function bu(){return c.a.createElement("div",{className:Be()(fu.a.wrapper,"content")},c.a.createElement("h1",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0435 \u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435"),c.a.createElement("p",null,"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0435 \u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 (\u0414\u0430\u043b\u0435\u0435 \u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435) \u0440\u0435\u0433\u0443\u043b\u0438\u0440\u0443\u0435\u0442 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c Project021.pw (\u0434\u0430\u043b\u0435\u0435 Project021 \u0438\u043b\u0438 \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f) \u0441 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0441\u0430\u0439\u0442\u0430 \u0441 \u0434\u0440\u0443\u0433\u043e\u0439.",c.a.createElement("br",null),"\u0421\u0430\u0439\u0442 Project021 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.",c.a.createElement("br",null),"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0441\u0430\u0439\u0442, \u0412\u044b \u0441\u043e\u0433\u043b\u0430\u0448\u0430\u0435\u0442\u0435\u0441\u044c \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f.",c.a.createElement("br",null),"\u0415\u0441\u043b\u0438 \u0412\u044b \u043d\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f, \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u0430\u0439\u0442 Project021.pw!",c.a.createElement("br",null),c.a.createElement("h2",null,"\u041f\u0440\u0435\u0434\u043c\u0435\u0442 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f"),"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043f\u0440\u0430\u0432\u043e \u043d\u0430 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:",c.a.createElement("br",null),"- \u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",c.a.createElement("br",null),"- \u0410\u0443\u0434\u0438\u043e\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432",c.a.createElement("br",null),"- \u0412\u0438\u0434\u0435\u043e\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432",c.a.createElement("br",null),"- \u0424\u043e\u0442\u043e\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432",c.a.createElement("br",null),"- \u0421\u0441\u044b\u043b\u043e\u043a \u043d\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0435 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u0430\u0439\u0442\u0430\u0445",c.a.createElement("br",null),c.a.createElement("h2",null,"\u041f\u0440\u0430\u0432\u0430 \u0438 \u043e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u043e\u0440\u043e\u043d"),c.a.createElement("h3",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438\u043c\u0435\u0435\u0442 \u043f\u0440\u0430\u0432\u043e:"),"- \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0442\u044c \u043f\u043e\u0438\u0441\u043a \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",c.a.createElement("br",null),"- \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",c.a.createElement("br",null),"- \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u0441\u0430\u0439\u0442\u0430",c.a.createElement("br",null),"- \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",c.a.createElement("br",null),"- \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442, \u0432\u044b\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",c.a.createElement("br",null),"- \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",c.a.createElement("br",null),"- \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0430\u0439\u0442\u044b \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430",c.a.createElement("br",null),"- \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0441\u0430\u0439\u0442\u0430 \u0432 \u043b\u0438\u0447\u043d\u044b\u0445 \u043d\u0435\u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0445 \u0446\u0435\u043b\u044f\u0445",c.a.createElement("br",null),"- \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0441\u0430\u0439\u0442\u0430 \u0432 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0445 \u0446\u0435\u043b\u044f\u0445 \u0441 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",c.a.createElement("br",null),"- \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0441\u0430\u0439\u0442\u0430 \u0432 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0445 \u0446\u0435\u043b\u044f\u0445 \u0441 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u0430\u0432\u043e\u043e\u0431\u043b\u0430\u0434\u0430\u0442\u0435\u043b\u0435\u0439",c.a.createElement("br",null),c.a.createElement("h3",null,"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0438\u043c\u0435\u0435\u0442 \u043f\u0440\u0430\u0432\u043e:"),"- \u043f\u043e \u0441\u0432\u043e\u0435\u043c\u0443 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u044e \u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c, \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c, \u043e\u0442\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430",c.a.createElement("br",null),"- \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043b\u044e\u0431\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",c.a.createElement("br",null),"- \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c, \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c, \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e",c.a.createElement("br",null),"- \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0443\u0447\u0435\u0442\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438",c.a.createElement("br",null),"- \u043e\u0442\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0431\u0435\u0437 \u043e\u0431\u044a\u044f\u0441\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u0447\u0438\u043d",c.a.createElement("br",null),c.a.createElement("h3",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u044f\u0437\u0443\u0435\u0442\u0441\u044f:"),"- \u043d\u0435 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430 \u043f\u0440\u043e\u043f\u0430\u0433\u0430\u043d\u0434\u0443 \u0432\u043e\u0439\u043d\u044b, \u0440\u0430\u0437\u0436\u0438\u0433\u0430\u043d\u0438\u0435 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0439, \u0440\u0430\u0441\u043e\u0432\u043e\u0439 \u0438\u043b\u0438 \u0440\u0435\u043b\u0438\u0433\u0438\u043e\u0437\u043d\u043e\u0439 \u043d\u0435\u043d\u0430\u0432\u0438\u0441\u0442\u0438 \u0438 \u0432\u0440\u0430\u0436\u0434\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u0437\u0430 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0430 \u0443\u0433\u043e\u043b\u043e\u0432\u043d\u0430\u044f \u0438\u043b\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c",c.a.createElement("br",null),"- \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0441\u0430\u0439\u0442\u0430",c.a.createElement("br",null),"- \u043d\u0435 \u0441\u043e\u0432\u0435\u0440\u0448\u0430\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0434\u0440\u0443\u0433\u0438\u0445 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u0437\u0430\u0431\u043b\u0443\u0436\u0434\u0435\u043d\u0438\u0435",c.a.createElement("br",null),"- \u043d\u0435 \u0440\u0430\u0437\u043c\u0435\u0449\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0433\u043e, \u044d\u0440\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e, \u043f\u043e\u0440\u043d\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0438\u043b\u0438 \u043e\u0441\u043a\u043e\u0440\u0431\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0430, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e, \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e \u0438\u043b\u0438 \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u0440\u0435\u0447\u0438\u0442 \u043d\u043e\u0440\u043c\u0430\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0420\u0424",c.a.createElement("br",null),"- \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442\u044b (\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b) \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0438/\u0438\u043b\u0438 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u0421\u0430\u0439\u0442\u043e\u043c \u0438 \u0435\u0433\u043e \u0421\u0435\u0440\u0432\u0438\u0441\u0430\u043c\u0438",c.a.createElement("br",null),c.a.createElement("h3",null,"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043e\u0431\u044f\u0437\u0443\u0435\u0442\u0441\u044f:"),"- \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0441\u0430\u0439\u0442\u0430 \u0437\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u043a\u043e\u0433\u0434\u0430 \u044d\u0442\u043e \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u044f\u0449\u0438\u043c \u043e\u0442 \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c.",c.a.createElement("br",null),"- \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0442\u044c \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044e\u044e \u0437\u0430\u0449\u0438\u0442\u0443 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",c.a.createElement("br",null),"- \u0437\u0430\u0449\u0438\u0449\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e, \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e \u0438\u043b\u0438 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e \u0437\u0430\u043a\u043e\u043d\u0430\u043c\u0438 \u043f\u0443\u0442\u0435\u043c \u0432\u044b\u043d\u0435\u0441\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f \u043b\u0438\u0431\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435\u043c \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043d\u0430\u0440\u0443\u0448\u0438\u0432\u0448\u0435\u0433\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u0430",c.a.createElement("br",null),"- \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u0441\u044e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u0443\u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0435\u043d\u043d\u044b\u043c \u043d\u0430 \u0442\u043e \u043e\u0440\u0433\u0430\u043d\u0430\u043c \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0432\u043b\u0430\u0441\u0442\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u044f\u0445, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043a\u043e\u043d\u043e\u043c",c.a.createElement("br",null),c.a.createElement("h2",null,"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0441\u0442\u043e\u0440\u043e\u043d"),"- \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043b\u0438\u0447\u043d\u043e \u043d\u0435\u0441\u0435\u0442 \u043f\u043e\u043b\u043d\u0443\u044e \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0437\u0430 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u043c\u0443\u044e \u0438\u043c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e",c.a.createElement("br",null),"- \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043d\u0435\u0441\u0435\u0442 \u043d\u0438\u043a\u0430\u043a\u043e\u0439 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0437\u0430 \u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u043e\u0441\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432",c.a.createElement("br",null),"- \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043d\u0435\u0441\u0451\u0442 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0437\u0430 \u043d\u0435\u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0445 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0438 \u0440\u0435\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433",c.a.createElement("br",null),"- \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043d\u0435\u0441\u0435\u0442 \u043d\u0438\u043a\u0430\u043a\u043e\u0439 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0437\u0430 \u0443\u0441\u043b\u0443\u0433\u0438, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u0442\u0440\u0435\u0442\u044c\u0438\u043c\u0438 \u043b\u0438\u0446\u0430\u043c\u0438",c.a.createElement("br",null),"- \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u044f \u0444\u043e\u0440\u0441-\u043c\u0430\u0436\u043e\u0440\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 (\u0431\u043e\u0435\u0432\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u043e\u0435 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0441\u0442\u0438\u0445\u0438\u0439\u043d\u043e\u0435 \u0431\u0435\u0434\u0441\u0442\u0432\u0438\u0435 \u0438 \u0442. \u0434.) \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u0440\u0430\u0437\u043c\u0435\u0449\u0451\u043d\u043d\u043e\u0439 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0431\u0435\u0441\u043f\u0435\u0440\u0435\u0431\u043e\u0439\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430",c.a.createElement("br",null),c.a.createElement("h2",null,"\u0441\u043b\u043e\u0432\u0438\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f"),"\u0414\u0430\u043d\u043d\u043e\u0435 \u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u0432\u0441\u0442\u0443\u043f\u0430\u0435\u0442 \u0432 \u0441\u0438\u043b\u0443 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435.",c.a.createElement("br",null),"\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u0431\u0435\u0441\u0441\u0440\u043e\u0447\u043d\u043e.",c.a.createElement("br",null),"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0437\u0430 \u0441\u043e\u0431\u043e\u0439 \u043f\u0440\u0430\u0432\u043e \u0432 \u043e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u0432\u043e\u0435\u043c\u0443 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u044e.",c.a.createElement("br",null),"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043e\u043f\u043e\u0432\u0435\u0449\u0430\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043e\u0431 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0432 \u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0438.",c.a.createElement("br",null)))}var Eu=a(94),vu=a.n(Eu);function Ou(){var e=Object(_.g)(),t=(Object(_.f)(),Object(r.useState)("")),a=Object(O.a)(t,2),u=a[0],o=a[1],i=Object(r.useState)(!1),s=Object(O.a)(i,2),m=s[0],p=s[1],d=Object(r.useState)(!1),f=Object(O.a)(d,2),b=f[0],C=f[1],h=Object(l.b)(),D=Object(r.useState)(0),y=Object(O.a)(D,2),w=y[0],N=y[1],k=Object(l.c)((function(e){return e.project})).projects,x=Se().user;return Object(r.useEffect)((function(){var t=q.a.parse(e.search);t.q!==u&&o((t.q||"").trim())}),[e.search]),Object(r.useEffect)((function(){if(u){var e=null;return function(){var t=Object(v.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!1),t.prev=1,e=zt(u),t.next=5,e;case 5:a=t.sent,n=a.data,h({type:A.LOAD_PROJECTS_ACTION,payload:n}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0),h({type:A.LOAD_PROJECTS_ACTION,payload:[]});case 14:e=null,p(!0);case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}()(),function(){e&&e.cancel(),h({type:A.LOAD_PROJECTS_ACTION,payload:[]})}}}),[u]),c.a.createElement("div",{className:vu.a.wrapper},c.a.createElement("div",{className:vu.a.title},"\u041f\u043e\u0438\u0441\u043a"),c.a.createElement("form",{className:vu.a.form},c.a.createElement(dn,{fullWidth:!0,className:vu.a.field,size:"bg",name:"seacrh",value:u,label:"",onChange:function(e){o(e.target.value.substring(0,100))}})),m?c.a.createElement(Gt,{className:vu.a.projects,projects:k,hasMore:k.length>=8*(w+1),disabled:b,onMoreLoad:Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,zt(u,w+1);case 4:t=e.sent,a=t.data,N(w+1),h({type:A.LOAD_PROJECTS_ACTION,payload:[].concat(Object(j.a)(k),Object(j.a)(a))}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:C(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),onLike:function(){var e=Object(v.a)(E.a.mark((function e(t){var a,r,c,u,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=3;break}return h({type:n.LOGIN_VISIBILITY_ACTION,payload:!0}),e.abrupt("return");case 3:return e.prev=3,e.next=6,aa(t.id);case 6:a=e.sent,r=a.data,c=r.count,u=r.liked,o=k.indexOf(t),k[o]=Object(g.a)(Object(g.a)({},t),{},{likesCount:c,liked:u}),h({type:A.LOAD_PROJECTS_ACTION,payload:Object(j.a)(k)}),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(3);case 17:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}()}):c.a.createElement("div",{className:"spinner overlay-spinner"}))}var _u=a(164),Cu=a.n(_u);var ju=function(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),a=t[0],u=t[1],o=Object(l.b)(),i=Se(),s=i.user,m=i.loginShowed,p=i.registerShowed,d=i.forgetPasswordShowed,f=Object(_.f)();Object(r.useEffect)((function(){return f.listen((function(){return window.scrollTo(0,0)}))}),[]),Object(r.useEffect)((function(){(function(){var e=Object(v.a)(E.a.mark((function e(){var t,a,r,c,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:return e.next=5,z();case 5:t=e.sent,a=t.data,o({type:n.LOAD_USER_ACTION,payload:Te.FromResponse(a)}),o({type:n.LOGIN_VISIBILITY_ACTION,payload:!1}),e.next=30;break;case 11:if(e.prev=11,e.t0=e.catch(0),!window.opener){e.next=29;break}r=new URLSearchParams(window.location.search),c=r.get("code"),l=window.location.pathname,e.t1=l,e.next="/fb/"===e.t1?20:"/vk/"===e.t1?23:"/google/"===e.t1?26:29;break;case 20:return window.opener.setFbCode(c),window.close(),e.abrupt("break",29);case 23:return window.opener.setVkCode(c),window.close(),e.abrupt("break",29);case 26:return window.opener.setGoogleCode(c),window.close(),e.abrupt("break",29);case 29:console.error(e.t0);case 30:u(!0);case 31:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var b=Object(r.useCallback)(Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:t=e.sent,a=t.data,o({type:n.EVENTS_LOADED_ACTION,payload:a.map((function(e){return JSON.parse(e)}))});case 5:case"end":return e.stop()}}),e)}))),[]);return Object(r.useEffect)((function(){s&&b()}),[s]),c.a.createElement(iu,null,c.a.createElement(C.a,null,c.a.createElement("title",null,"Projects & protocols repository")),c.a.createElement("div",{className:Cu.a.wrapper},a?c.a.createElement(c.a.Fragment,null,c.a.createElement(mt,null),c.a.createElement("div",{className:Cu.a.content},c.a.createElement(_.c,null,c.a.createElement(_.a,{path:"/",exact:!0,component:wa}),c.a.createElement(_.a,{path:"/create-project",exact:!0,component:Yr}),c.a.createElement(_.a,{path:"/my-projects",exact:!0,component:zr}),c.a.createElement(_.a,{path:"/account",exact:!0,component:xr}),c.a.createElement(_.a,{path:"/account/edit",exact:!0,component:Mr}),c.a.createElement(_.a,{path:"/users/:id",exact:!0,component:kr}),c.a.createElement(_.a,{path:"/project/:id",component:cu}),c.a.createElement(_.a,{path:"/confirm-success",exact:!0,component:yn}),c.a.createElement(_.a,{path:"/reset-password",exact:!0,component:pu}),c.a.createElement(_.a,{path:"/agreement",exact:!0,component:bu}),c.a.createElement(_.a,{path:"/search",exact:!0,component:Ou}))),c.a.createElement(Nt,null)):c.a.createElement("div",{className:"spinner overlay-spinner"}),m&&c.a.createElement(En,{onSave:function(e){o({type:n.LOAD_USER_ACTION,payload:Te.FromResponse(e)}),o({type:n.LOGIN_VISIBILITY_ACTION,payload:!1})},onClose:function(){return o({type:n.LOGIN_VISIBILITY_ACTION,payload:!1})}}),p&&c.a.createElement(_n,{onClose:function(){return o({type:n.REGISTER_VISIBILITY_ACTION,payload:!1})}}),d&&c.a.createElement(gn,{onClose:function(){return o({type:n.FORGET_PASSWORD_VISIBILITY_ACTION,payload:!1})}})),c.a.createElement(er,{value:[],className:"hidden",onChange:function(e,t){}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a({dsn:"https://ebce09db3c6c414389ceb71b7ff97247@o469034.ingest.sentry.io/5497764"});var gu=s()({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1850}},typography:{fontFamily:"\n      'SF Pro', 'Arial', 'Roboto', 'Oxygen';\n    "},palette:{primary:{main:"#88CAF7"},secondary:{main:"#88CAF7"}},overrides:{}});o.a.render(c.a.createElement(m.b,{injectFirst:!0},c.a.createElement(p.a,{theme:gu},c.a.createElement(l.a,{store:F},c.a.createElement(d.a,null,c.a.createElement(ju,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports={wrapper:"MyProjects_wrapper__21GHG",spinner:"MyProjects_spinner__5_SZV",section:"MyProjects_section__3Br1L",sectionTitle:"MyProjects_sectionTitle__2yKkE",navigation:"MyProjects_navigation__213GL",active:"MyProjects_active__1s6qG"}},52:function(e,t,a){e.exports={form:"LoginForm_form__3qIjH",error:"LoginForm_error__2lnVX",bottom:"LoginForm_bottom__39fXl",buttons:"LoginForm_buttons__2PIiz",link:"LoginForm_link__2NAzg",message:"LoginForm_message__3DrUi"}},53:function(e,t,a){e.exports={form:"RegisterForm_form__gjEkc",error:"RegisterForm_error__1OFgA",bottom:"RegisterForm_bottom__1h16y",buttons:"RegisterForm_buttons__3vc-0",link:"RegisterForm_link__TAqcs",passwordHelp:"RegisterForm_passwordHelp__1ptAq",message:"RegisterForm_message__1w2ap"}},54:function(e,t,a){e.exports={wrapper:"PageMain_wrapper__261P4",name:"PageMain_name__25i5u",content:"PageMain_content__20DpM",important:"PageMain_important__nIxUN",files:"PageMain_files__Vf_KO",filesList:"PageMain_filesList__-Zucc",filesTitle:"PageMain_filesTitle__143qM",file:"PageMain_file__3Ek4Y",edit:"PageMain_edit__Gz5w0",menu:"PageMain_menu__3_7q4"}},58:function(e,t,a){e.exports={wrapper:"AddCommentForm_wrapper__1IxoR",title:"AddCommentForm_title__ZzQQs",guest:"AddCommentForm_guest__tvO9g",field:"AddCommentForm_field__2F0tx",errors:"AddCommentForm_errors__1D8ae",error:"AddCommentForm_error__257Lj",bottom:"AddCommentForm_bottom__11tn9",anonymous:"AddCommentForm_anonymous__l6Iy9"}},59:function(e,t,a){e.exports={wrapper:"Comments_wrapper__HNbmi",top:"Comments_top__8LRjd",title:"Comments_title__3tGxb",list:"Comments_list__QjjqA",comment:"Comments_comment__-Mn4A",empty:"Comments_empty__1lM1d",addCommentIcon:"Comments_addCommentIcon__buotC",spinner:"Comments_spinner__J8hIu",reply:"Comments_reply__8BCpJ",hideNegative:"Comments_hideNegative__BIDVh",addComment:"Comments_addComment__3tOTz"}},66:function(e,t,a){e.exports={wrapper:"ResetPassword_wrapper__3VRn2",title:"ResetPassword_title__1AtBs",form:"ResetPassword_form__2_gVt",actions:"ResetPassword_actions__3HUbP",passwordHelp:"ResetPassword_passwordHelp__DFmxS"}},72:function(e,t,a){e.exports={wrapper:"SocialAuth_wrapper__1Fh9Q",link:"SocialAuth_link__12bCV"}},73:function(e,t,a){e.exports={label:"TextField_label__2ND1_",fullWidth:"TextField_fullWidth__32-pv",input:"TextField_input__1gZos",invalid:"TextField_invalid__HSJZo",invalidText:"TextField_invalidText__bjRmR",big:"TextField_big__161wo"}},91:function(e,t,a){e.exports={projects:"ProjectsList_projects__q1qMR",more:"ProjectsList_more__2Y9HU"}},92:function(e,t,a){e.exports={wrapper:"Popup_wrapper__3NHtS",overlay:"Popup_overlay__2NtUY",title:"Popup_title__1Wiyt",content:"Popup_content__Dgt4v",close:"Popup_close__v9CH9"}},93:function(e,t,a){e.exports={form:"ForgetPasswordForm_form__1ZYZS",error:"ForgetPasswordForm_error__32x4P",bottom:"ForgetPasswordForm_bottom__1i8he",buttons:"ForgetPasswordForm_buttons__39HDD",link:"ForgetPasswordForm_link__2sAxW",message:"ForgetPasswordForm_message__1kNYW"}},94:function(e,t,a){e.exports={form:"Search_form__1ch7D",projects:"Search_projects__3QYZG",title:"Search_title__2DSpS",wrapper:"Search_wrapper__16aXF"}}},[[244,1,2]]]);
//# sourceMappingURL=main.2c6c3123.chunk.js.map